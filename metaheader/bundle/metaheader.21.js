(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[21],{

/***/ "./src/app/sample-editor/pattern-editor.js":
/*!*************************************************!*\
  !*** ./src/app/sample-editor/pattern-editor.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nfunction PatternEditor(props) {\n  var letters = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\"];\n  var trackIndex = props.trackIndex;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),\n      patterns = _useState2[0],\n      setPatterns = _useState2[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    getTrackPatterns();\n  }, []);\n\n  function getTrackPatterns(i, patternsArray) {\n    var index = i ? i : 0;\n    var newPatterns = patternsArray ? _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(patternsArray) : [];\n    var letter = letters[trackIndex];\n    var patternPath = \"/home/pi/zynthian-my-data/sketches/my-sketches/temp/sequences/scene-\".concat(letter, \"/patterns/scene-\").concat(letter, \"-\").concat(index + 1, \".pattern.json\");\n    fetch(\"http://\".concat(window.location.hostname, \":3000/json/\").concat(patternPath.split('/').join('+++')), {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })[\"catch\"](function (error) {\n      console.log(error, \"error\");\n    }).then( /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(res) {\n        var pattern;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(res.status === 500)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                console.log('ERROR');\n                _context.next = 8;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return res.json();\n\n              case 6:\n                pattern = _context.sent;\n\n                if (pattern && pattern.hasNotes === true) {\n                  pattern.name = \"scene-\".concat(letter, \"-\").concat(index);\n                  console.log(JSON.parse(pattern.notes));\n                  newPatterns.push(pattern);\n                }\n\n              case 8:\n                if (index + 1 >= 10) {\n                  setPatterns(newPatterns);\n                } else {\n                  getTrackPatterns(index + 1, newPatterns);\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    id: \"pattern-editor-container\"\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PatternEditor);\n\n//# sourceURL=webpack:///./src/app/sample-editor/pattern-editor.js?");

/***/ })

}]);