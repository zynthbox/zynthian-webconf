(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[25],{

/***/ "./src/app/components/error-modal.js":
/*!*******************************************!*\
  !*** ./src/app/components/error-modal.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar ErrorModal = function ErrorModal(_ref) {\n  var error = _ref.error,\n      onDismiss = _ref.onDismiss;\n  console.log(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(error.message));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    id: \"error-modal\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"h3\", null, error.type), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", null, error.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"a\", {\n    onClick: onDismiss,\n    className: \"error-modal-dismiss\"\n  }, \"OK\")));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorModal);\n\n//# sourceURL=webpack:///./src/app/components/error-modal.js?");

/***/ }),

/***/ "./src/app/file-manager/file-manager.js":
/*!**********************************************!*\
  !*** ./src/app/file-manager/file-manager.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var chonky__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! chonky */ \"./node_modules/chonky/dist/chonky.esm.js\");\n/* harmony import */ var chonky_icon_fontawesome__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! chonky-icon-fontawesome */ \"./node_modules/chonky-icon-fontawesome/dist/chonky-icon-fontawesome.esm.js\");\n/* harmony import */ var _loading_spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../loading-spinner */ \"./src/app/loading-spinner.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers */ \"./src/app/helpers.js\");\n/* harmony import */ var _context_context_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./context/context-provider */ \"./src/app/file-manager/context/context-provider.js\");\n/* harmony import */ var _components_error_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/error-modal */ \"./src/app/components/error-modal.js\");\n\n\n\n\n\n\n\n\n\n\nObject(chonky__WEBPACK_IMPORTED_MODULE_4__[\"setChonkyDefaults\"])({\n  iconComponent: chonky_icon_fontawesome__WEBPACK_IMPORTED_MODULE_5__[\"ChonkyIconFA\"]\n});\nvar WebconfFileBrowser = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_3__[\"lazy\"])(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(3), __webpack_require__.e(4), __webpack_require__.e(7), __webpack_require__.e(11), __webpack_require__.e(17)]).then(__webpack_require__.bind(null, /*! ./file-browser */ \"./src/app/file-manager/file-browser.js\"));\n});\nvar TreeView = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_3__[\"lazy\"])(function () {\n  return __webpack_require__.e(/*! import() */ 19).then(__webpack_require__.bind(null, /*! ./tree-view */ \"./src/app/file-manager/tree-view.js\"));\n});\n\nvar FileManager = function FileManager() {\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"])(_context_context_provider__WEBPACK_IMPORTED_MODULE_8__[\"Context\"]),\n      fileManagerState = _useContext.fileManagerState,\n      fileManagerDispatch = _useContext.fileManagerDispatch;\n\n  var fsep = \"/\";\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      showFileUploader = _useState2[0],\n      setShowFileUploader = _useState2[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    getFiles();\n  }, [fileManagerState.selectedFolder]);\n\n  function getFiles() {\n    return _getFiles.apply(this, arguments);\n  }\n\n  function _getFiles() {\n    _getFiles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {\n      var folder;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              folder = \"/home/pi/\" + (fileManagerState.selectedFolder !== null ? fileManagerState.selectedFolder + \"/\" : \"\"); // const response = await \n\n              fetch(\"http://\".concat(window.location.hostname, \":3000/folder/\").concat(folder.split('/').join('+++')), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              }).then( /*#__PURE__*/function () {\n                var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(response) {\n                  var res;\n                  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return response.json();\n\n                        case 2:\n                          res = _context.sent;\n                          if (!res.errno) fileManagerDispatch({\n                            type: 'SET_FILES',\n                            payload: res\n                          });\n\n                        case 4:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref.apply(this, arguments);\n                };\n              }())[\"catch\"](function (err) {\n                fileManagerDispatch({\n                  type: 'SET_ERROR',\n                  payload: {\n                    message: \"failed to fetch \".concat(folder),\n                    type: \"Folder Error\"\n                  }\n                });\n              });\n              ;\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _getFiles.apply(this, arguments);\n  }\n\n  var fileManagerDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_loading_spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null);\n\n  if (fileManagerState.loading === false) {\n    fileManagerDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TreeView, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3__[\"Suspense\"], {\n      fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_loading_spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(WebconfFileBrowser, {\n      fsep: fsep,\n      refreshFileManager: getFiles,\n      showFileUploader: showFileUploader,\n      setShowFileUploader: setShowFileUploader,\n      getFiles: getFiles\n    })));\n  }\n\n  var errorModalDisplay;\n\n  if (fileManagerState.error !== null) {\n    errorModalDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_components_error_modal__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      error: fileManagerState.error,\n      onDismiss: function onDismiss() {\n        return fileManagerDispatch({\n          type: 'SET_ERROR',\n          payload: null\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    style: {\n      height: window.innerHeight - 170\n    },\n    className: \"file-manager-wrapper\"\n  }, errorModalDisplay, fileManagerDisplay);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileManager);\n\n//# sourceURL=webpack:///./src/app/file-manager/file-manager.js?");

/***/ }),

/***/ "./src/app/helpers.js":
/*!****************************!*\
  !*** ./src/app/helpers.js ***!
  \****************************/
/*! exports provided: getFormData, humanFileSize, useOnClickOutside, usePrevious, useLongPress, millisToMinutesAndSeconds */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFormData\", function() { return getFormData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"humanFileSize\", function() { return humanFileSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useOnClickOutside\", function() { return useOnClickOutside; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"usePrevious\", function() { return usePrevious; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useLongPress\", function() { return useLongPress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"millisToMinutesAndSeconds\", function() { return millisToMinutesAndSeconds; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction getFormData(object, fileName) {\n  var formData = new FormData();\n  Object.keys(object).forEach(function (key) {\n    if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(object[key]) !== 'object') formData.append(key, object[key]);else formData.append(key, JSON.stringify(object[key]));\n  });\n  return formData;\n}\nfunction humanFileSize(bytes) {\n  var si = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var dp = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var thresh = si ? 1000 : 1024;\n\n  if (Math.abs(bytes) < thresh) {\n    return bytes + ' B';\n  }\n\n  var units = si ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'] : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n  var u = -1;\n  var r = Math.pow(10, dp);\n\n  do {\n    bytes /= thresh;\n    ++u;\n  } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n  return bytes.toFixed(dp) + ' ' + units[u];\n}\nfunction useOnClickOutside(ref, handler) {\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener(\"mousedown\", listener);\n    document.addEventListener(\"touchstart\", listener);\n    return function () {\n      document.removeEventListener(\"mousedown\", listener);\n      document.removeEventListener(\"touchstart\", listener);\n    };\n  }, // Add ref and handler to effect dependencies\n  // It's worth noting that because passed in handler is a new ...\n  // ... function on every render that will cause this effect ...\n  // ... callback/cleanup to run every render. It's not a big deal ...\n  // ... but to optimize you can wrap handler in useCallback before ...\n  // ... passing it into this hook.\n  [ref, handler]);\n} // Hook - use previous\n\nfunction usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useRef\"])(); // Store current value in ref\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n  // Return previous value (happens before update in useEffect above)\n\n  return ref.current;\n} // Hook - use long press\n\nvar useLongPress = function useLongPress(onLongPress, onClick) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$shouldPreventDef = _ref.shouldPreventDefault,\n      shouldPreventDefault = _ref$shouldPreventDef === void 0 ? true : _ref$shouldPreventDef,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 300 : _ref$delay;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      longPressTriggered = _useState2[0],\n      setLongPressTriggered = _useState2[1];\n\n  var timeout = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useRef\"])();\n  var target = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useRef\"])();\n  var start = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(function (event) {\n    if (shouldPreventDefault && event.target) {\n      event.target.addEventListener(\"touchend\", preventDefault, {\n        passive: false\n      });\n      target.current = event.target;\n    }\n\n    timeout.current = setTimeout(function () {\n      onLongPress(event);\n      setLongPressTriggered(true);\n    }, delay);\n  }, [onLongPress, delay, shouldPreventDefault]);\n  var clear = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(function (event) {\n    var shouldTriggerClick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    timeout.current && clearTimeout(timeout.current);\n    shouldTriggerClick && !longPressTriggered && onClick();\n    setLongPressTriggered(false);\n\n    if (shouldPreventDefault && target.current) {\n      target.current.removeEventListener(\"touchend\", preventDefault);\n    }\n  }, [shouldPreventDefault, onClick, longPressTriggered]);\n  return {\n    onMouseDown: function onMouseDown(e) {\n      return start(e);\n    },\n    onTouchStart: function onTouchStart(e) {\n      return start(e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      return clear(e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return clear(e, false);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      return clear(e);\n    }\n  };\n};\n\nvar isTouchEvent = function isTouchEvent(event) {\n  return \"touches\" in event;\n};\n\nvar preventDefault = function preventDefault(event) {\n  if (!isTouchEvent(event)) return;\n\n  if (event.touches.length < 2 && event.preventDefault) {\n    event.preventDefault();\n  }\n};\n\nfunction millisToMinutesAndSeconds(time) {\n  var minutes = Math.floor(time / 60);\n  var seconds = time - minutes * 60;\n  seconds = Math.floor(seconds);\n  if (minutes < 10) minutes = \"0\" + minutes;\n  if (seconds < 10) seconds = \"0\" + seconds;\n  var timestamp = minutes + \":\" + seconds;\n  return timestamp;\n}\n\n//# sourceURL=webpack:///./src/app/helpers.js?");

/***/ })

}]);