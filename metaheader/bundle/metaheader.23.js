(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[23],{

/***/ "./src/app/helpers.js":
/*!****************************!*\
  !*** ./src/app/helpers.js ***!
  \****************************/
/*! exports provided: getFormData, humanFileSize, useOnClickOutside, usePrevious, useLongPress */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFormData\", function() { return getFormData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"humanFileSize\", function() { return humanFileSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useOnClickOutside\", function() { return useOnClickOutside; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"usePrevious\", function() { return usePrevious; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useLongPress\", function() { return useLongPress; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction getFormData(object, fileName) {\n  var formData = new FormData();\n  Object.keys(object).forEach(function (key) {\n    if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(object[key]) !== 'object') formData.append(key, object[key]);else formData.append(key, JSON.stringify(object[key]));\n  });\n  return formData;\n}\n/**\r\n * Format bytes as human-readable text.\r\n * \r\n * @param bytes Number of bytes.\r\n * @param si True to use metric (SI) units, aka powers of 1000. False to use \r\n *           binary (IEC), aka powers of 1024.\r\n * @param dp Number of decimal places to display.\r\n * \r\n * @return Formatted string.\r\n */\n\nfunction humanFileSize(bytes) {\n  var si = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var dp = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var thresh = si ? 1000 : 1024;\n\n  if (Math.abs(bytes) < thresh) {\n    return bytes + ' B';\n  }\n\n  var units = si ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'] : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n  var u = -1;\n  var r = Math.pow(10, dp);\n\n  do {\n    bytes /= thresh;\n    ++u;\n  } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n  return bytes.toFixed(dp) + ' ' + units[u];\n}\nfunction useOnClickOutside(ref, handler) {\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener(\"mousedown\", listener);\n    document.addEventListener(\"touchstart\", listener);\n    return function () {\n      document.removeEventListener(\"mousedown\", listener);\n      document.removeEventListener(\"touchstart\", listener);\n    };\n  }, // Add ref and handler to effect dependencies\n  // It's worth noting that because passed in handler is a new ...\n  // ... function on every render that will cause this effect ...\n  // ... callback/cleanup to run every render. It's not a big deal ...\n  // ... but to optimize you can wrap handler in useCallback before ...\n  // ... passing it into this hook.\n  [ref, handler]);\n} // Hook - use previous\n\nfunction usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useRef\"])(); // Store current value in ref\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n  // Return previous value (happens before update in useEffect above)\n\n  return ref.current;\n} // Hook - use long press\n\nvar useLongPress = function useLongPress(onLongPress, onClick) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$shouldPreventDef = _ref.shouldPreventDefault,\n      shouldPreventDefault = _ref$shouldPreventDef === void 0 ? true : _ref$shouldPreventDef,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 300 : _ref$delay;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      longPressTriggered = _useState2[0],\n      setLongPressTriggered = _useState2[1];\n\n  var timeout = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useRef\"])();\n  var target = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useRef\"])();\n  var start = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(function (event) {\n    if (shouldPreventDefault && event.target) {\n      event.target.addEventListener(\"touchend\", preventDefault, {\n        passive: false\n      });\n      target.current = event.target;\n    }\n\n    timeout.current = setTimeout(function () {\n      onLongPress(event);\n      setLongPressTriggered(true);\n    }, delay);\n  }, [onLongPress, delay, shouldPreventDefault]);\n  var clear = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(function (event) {\n    var shouldTriggerClick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    timeout.current && clearTimeout(timeout.current);\n    shouldTriggerClick && !longPressTriggered && onClick();\n    setLongPressTriggered(false);\n\n    if (shouldPreventDefault && target.current) {\n      target.current.removeEventListener(\"touchend\", preventDefault);\n    }\n  }, [shouldPreventDefault, onClick, longPressTriggered]);\n  return {\n    onMouseDown: function onMouseDown(e) {\n      return start(e);\n    },\n    onTouchStart: function onTouchStart(e) {\n      return start(e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      return clear(e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return clear(e, false);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      return clear(e);\n    }\n  };\n};\n\nvar isTouchEvent = function isTouchEvent(event) {\n  return \"touches\" in event;\n};\n\nvar preventDefault = function preventDefault(event) {\n  if (!isTouchEvent(event)) return;\n\n  if (event.touches.length < 2 && event.preventDefault) {\n    event.preventDefault();\n  }\n};\n\n//# sourceURL=webpack:///./src/app/helpers.js?");

/***/ }),

/***/ "./src/app/sample-editor/sample-editor.js":
/*!************************************************!*\
  !*** ./src/app/sample-editor/sample-editor.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _track__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./track */ \"./src/app/sample-editor/track.js\");\n/* harmony import */ var _sketch_pad_file_loader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sketch-pad-file-loader */ \"./src/app/sample-editor/sketch-pad-file-loader.js\");\n/* harmony import */ var _loading_spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../loading-spinner */ \"./src/app/loading-spinner.js\");\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n\n\n\n\n\nvar PatternEditor = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_5__[\"lazy\"])(function () {\n  return __webpack_require__.e(/*! import() */ 20).then(__webpack_require__.bind(null, /*! ./pattern-editor */ \"./src/app/sample-editor/pattern-editor.js\"));\n});\n\nvar SampleEditor = function SampleEditor(props) {\n  var colorsArray = props.colorsArray;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(null),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),\n      sketchInfo = _useState2[0],\n      setSketchInfo = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(null),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),\n      currentSketch = _useState4[0],\n      setCurrentSketch = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(null),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState5, 2),\n      tracks = _useState6[0],\n      setTracks = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(false),\n      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState7, 2),\n      showFilePicker = _useState8[0],\n      setShowFilePicker = _useState8[1];\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(false),\n      _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState9, 2),\n      showPatternEditor = _useState10[0],\n      setShowPatternEditor = _useState10[1];\n\n  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(null),\n      _useState12 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState11, 2),\n      patternEditorTrackIndex = _useState12[0],\n      setPatternEditorTrackIndex = _useState12[1];\n\n  var _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(null),\n      _useState14 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState13, 2),\n      sketchPadDialogActionType = _useState14[0],\n      setSketchPadDialogActionType = _useState14[1]; // console.log(\"*** STATE UPDATE ****\")\n  // console.log(sketchInfo,\"sketchInfo\");\n  // console.log(currentSketch,\"current sketch\");\n  // console.log(\"*** /STATE UPDATE ****\")\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    getSketchInfo();\n    setTimeout(function () {\n      var sampleEditorContainer = document.getElementById('sample-editor').clientHeight;\n    }, 100);\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    if (sketchInfo !== null) {\n      getCurrentSelectedSketch();\n    }\n  }, [sketchInfo]);\n  Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    if (currentSketch !== null) {\n      setTracks(currentSketch.tracks);\n    }\n  }, [currentSketch]);\n\n  function getSketchInfo() {\n    return _getSketchInfo.apply(this, arguments);\n  }\n\n  function _getSketchInfo() {\n    _getSketchInfo = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee() {\n      var response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/sketchinfo/\"), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              res = _context.sent;\n              setSketchInfo(res);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getSketchInfo.apply(this, arguments);\n  }\n\n  function getCurrentSelectedSketch() {\n    return _getCurrentSelectedSketch.apply(this, arguments);\n  }\n\n  function _getCurrentSelectedSketch() {\n    _getCurrentSelectedSketch = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee2() {\n      var path, response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              path = sketchInfo.lastSelectedSketch;\n              _context2.next = 3;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/sketch/\").concat(path.split('/').join('+++')), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              response = _context2.sent;\n              _context2.next = 6;\n              return response.json();\n\n            case 6:\n              res = _context2.sent;\n              // console.log(res,\"current sketch res\");\n              setCurrentSketch(res);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _getCurrentSelectedSketch.apply(this, arguments);\n  }\n\n  function saveCurrentSketch(_x) {\n    return _saveCurrentSketch.apply(this, arguments);\n  }\n\n  function _saveCurrentSketch() {\n    _saveCurrentSketch = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee3(fn) {\n      var savedSketch, json, path, fileName, blob, formData, sketchFolderPath;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              savedSketch = currentSketch;\n              if (fn && typeof fn === \"string\") savedSketch.name = fn;\n              json = JSON.stringify(currentSketch);\n              path = sketchInfo.lastSelectedSketch;\n              if (path.indexOf('/zynthian/') > -1) path = path.split('/zynthian/')[1];\n              fileName = sketchInfo.lastSelectedSketch.split('/')[sketchInfo.lastSelectedSketch.split('/').length - 1];\n              blob = new Blob([json], {\n                type: \"application/json\"\n              });\n              formData = new FormData();\n              sketchFolderPath = path.split(fileName)[0];\n              if (fn && typeof fn === \"string\") fileName = fn; // console.log(sketchFolderPath)\n\n              formData.append('file', blob, fileName); // appending file\n\n              axios__WEBPACK_IMPORTED_MODULE_6___default.a.post(\"http://\".concat(window.location.hostname, \":3000/upload/\").concat(sketchFolderPath.split('/').join('+++')), formData).then(function (res) {\n                // then print response status\n                if (fn && typeof fn === \"string\") {\n                  updateSketchInfo(fn);\n                  setCurrentSketch(savedSketch);\n                }\n              });\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _saveCurrentSketch.apply(this, arguments);\n  }\n\n  function updateSketchInfo(_x2) {\n    return _updateSketchInfo.apply(this, arguments);\n  }\n\n  function _updateSketchInfo() {\n    _updateSketchInfo = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee4(fn) {\n      var newSketchInfo, blob, formData;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setShowFilePicker(false); // console.log(\"update sketch info\")\n              // const originalFileName = sketchInfo.lastSelectedSketch.split('/')[sketchInfo.lastSelectedSketch.split('/').length - 1];\n              // const sketchFolderPath = sketchInfo.lastSelectedSketch.split(originalFileName)[0];\n\n              newSketchInfo = _objectSpread(_objectSpread({}, sketchInfo), {}, {\n                lastSelectedSketch: fn.split('/home/pi')[1]\n              });\n              blob = new Blob([JSON.stringify(newSketchInfo)], {\n                type: \"application/json\"\n              });\n              formData = new FormData();\n              formData.append('file', blob, '.cache.json'); // appending file\n\n              axios__WEBPACK_IMPORTED_MODULE_6___default.a.post(\"http://\".concat(window.location.hostname, \":3000/upload/zynthian-my-data+++sessions+++\"), formData).then(function (res) {\n                // then print response status\n                setSketchInfo(newSketchInfo);\n              });\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _updateSketchInfo.apply(this, arguments);\n  }\n\n  function saveCurrentSketchAs(_x3) {\n    return _saveCurrentSketchAs.apply(this, arguments);\n  }\n\n  function _saveCurrentSketchAs() {\n    _saveCurrentSketchAs = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee5(destinationPath) {\n      var fullPath, createFolderResponse, createFolderRes, sketchFileName, sketchFolder, filesInFolderResponse, filesInFolderRes, previousPaths, destinationPaths;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              // create the folder\n              fullPath = destinationPath + \"/\"; // console.log(fullPath)\n\n              _context5.next = 3;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/createfolder\"), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  fullPath: fullPath\n                })\n              });\n\n            case 3:\n              createFolderResponse = _context5.sent;\n              _context5.next = 6;\n              return createFolderResponse.json();\n\n            case 6:\n              createFolderRes = _context5.sent;\n              sketchFileName = sketchInfo.lastSelectedSketch.split('/')[sketchInfo.lastSelectedSketch.split('/').length - 1];\n              sketchFolder = sketchInfo.lastSelectedSketch.split(sketchFileName)[0];\n              if (sketchFolder.indexOf('/zynthian-my-data/') > -1) sketchFolder = sketchFolder.split('/zynthian-my-data/')[1];\n              _context5.next = 12;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/folder/\").concat(\"+++home+++pi+++zynthian-my-data+++\" + sketchFolder.split('/').join('+++').split(' ').join('%20')), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 12:\n              filesInFolderResponse = _context5.sent;\n              _context5.next = 15;\n              return filesInFolderResponse.json();\n\n            case 15:\n              filesInFolderRes = _context5.sent;\n              previousPaths = [], destinationPaths = [];\n              filesInFolderRes.forEach(function (file, index) {\n                var path = file.path.split('/home/pi/zynthian-my-data/' + sketchFolder)[1];\n\n                if (path.indexOf('/') === -1) {\n                  previousPaths.push(file.path);\n                  destinationPaths.push(\"/\" + fullPath + (path.indexOf('.') > -1 && path !== \".cache\" ? path : \"\"));\n                }\n              });\n              copyPasteFile(previousPaths, destinationPaths, false, 0);\n\n            case 19:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _saveCurrentSketchAs.apply(this, arguments);\n  }\n\n  function copyPasteFile(_x4, _x5, _x6, _x7) {\n    return _copyPasteFile.apply(this, arguments);\n  }\n\n  function _copyPasteFile() {\n    _copyPasteFile = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee7(previousPaths, destinationPaths, deleteOrigin, index) {\n      var previousPath, destinationPath;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              previousPath = previousPaths[index];\n              destinationPath = destinationPaths[index];\n              fetch(\"http://\".concat(window.location.hostname, \":3000/copypaste\"), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  previousPath: previousPath,\n                  destinationPath: destinationPath,\n                  deleteOrigin: deleteOrigin\n                })\n              }).then( /*#__PURE__*/function () {\n                var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee6(res) {\n                  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee6$(_context6) {\n                    while (1) {\n                      switch (_context6.prev = _context6.next) {\n                        case 0:\n                          console.log(res, \" RES \");\n\n                          if (index === previousPaths.length - 1) {\n                            console.log('DONE');\n                          } else {\n                            copyPasteFile(previousPaths, destinationPaths, deleteOrigin, index + 1);\n                          }\n\n                        case 2:\n                        case \"end\":\n                          return _context6.stop();\n                      }\n                    }\n                  }, _callee6);\n                }));\n\n                return function (_x14) {\n                  return _ref.apply(this, arguments);\n                };\n              }());\n\n            case 3:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _copyPasteFile.apply(this, arguments);\n  }\n\n  function updateTrack(index, title, color, keyZoneMode, trackAudioType) {\n    var currentTrack = currentSketch.tracks[index];\n\n    var newTrack = _objectSpread(_objectSpread({}, currentTrack), {}, {\n      name: title,\n      color: color,\n      keyzone_mode: keyZoneMode && keyZoneMode !== null ? keyZoneMode : currentTrack.keyzone_mode,\n      trackAudioType: trackAudioType && trackAudioType !== null ? trackAudioType : currentTrack.trackAudioType\n    });\n\n    var newTracks = [];\n    currentSketch.tracks.forEach(function (t, i) {\n      if (i === index) newTracks.push(newTrack);else newTracks.push(t);\n    });\n\n    var newCurrentSketch = _objectSpread(_objectSpread({}, currentSketch), {}, {\n      tracks: newTracks\n    });\n\n    setCurrentSketch(newCurrentSketch);\n  }\n\n  function updateTrackClips(_x8, _x9, _x10, _x11, _x12, _x13) {\n    return _updateTrackClips.apply(this, arguments);\n  }\n\n  function _updateTrackClips() {\n    _updateTrackClips = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark(function _callee8(actionType, index, clipIndex, filePath, multiple, isSaveAs) {\n      var track, newTrack, fullPath, res, data, newCurrentSketch;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              track = currentSketch.tracks[index];\n\n              if (!(actionType === \"remove\")) {\n                _context8.next = 12;\n                break;\n              }\n\n              fullPath = currentSketch.tracks[index].clips[clipIndex].path;\n              _context8.next = 5;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/delete\"), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  fullPath: fullPath\n                })\n              });\n\n            case 5:\n              res = _context8.sent;\n              _context8.next = 8;\n              return res.json();\n\n            case 8:\n              data = _context8.sent;\n              newTrack = _objectSpread(_objectSpread({}, track), {}, {\n                clips: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(track.clips.slice(0, index)), [_objectSpread(_objectSpread({}, track.clips[clipIndex]), {}, {\n                  path: null\n                })], _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(track.clips.slice(index + 1, track.clips.length - 1)))\n              }); // delete file - get file name + path, delete from server\n              // update currentSketch.tracks[index].clips[clipIndex].path = null\n\n              _context8.next = 13;\n              break;\n\n            case 12:\n              if (actionType === \"insert\") {\n                console.log('insert clip into track');\n              } else if (actionType === \"upload\") {\n                console.log('upload clip to track');\n              }\n\n            case 13:\n              newCurrentSketch = _objectSpread(_objectSpread({}, currentSketch), {}, {\n                tracks: [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(currentSketch.tracks.slice(0, index)), [newTrack], _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(currentSketch.tracks.slice(index + 1, currentSketch.tracks.length - 1)))\n              });\n              setCurrentSketch(newCurrentSketch);\n              saveCurrentSketch();\n\n            case 16:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n    return _updateTrackClips.apply(this, arguments);\n  }\n\n  function onShowPatternEditor(trackIndex) {\n    setPatternEditorTrackIndex(trackIndex);\n    setShowPatternEditor(true);\n  }\n\n  var tracksDisplay;\n\n  if (tracks !== null) {\n    var defaultColor = \"#000000\";\n    var sketchFileName = sketchInfo.lastSelectedSketch.split('/')[sketchInfo.lastSelectedSketch.split('/').length - 1];\n    var sketchFolder = sketchInfo.lastSelectedSketch.split(sketchFileName)[0];\n    if (sketchFolder.indexOf('/zynthian/') > -1) sketchFolder = \"/\" + sketchFolder.split('/zynthian/')[1];\n    tracksDisplay = tracks.map(function (track, index) {\n      if (index < 10) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_track__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n          key: index,\n          index: index,\n          color: track.color && track.color !== defaultColor ? track.color : colorsArray[index],\n          updateTrack: updateTrack,\n          onShowPatternEditor: onShowPatternEditor,\n          track: track,\n          updateTrackClips: updateTrackClips,\n          sketchFolder: sketchFolder\n        });\n      }\n    });\n  }\n\n  var filePickerDisplay;\n\n  if (showFilePicker === true) {\n    filePickerDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_sketch_pad_file_loader__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      actionType: sketchPadDialogActionType,\n      setShowLoadFromSketchPadDialog: setShowFilePicker,\n      fileType: \"sketch.json\",\n      loadSketch: updateSketchInfo,\n      saveSketch: saveCurrentSketchAs\n    });\n  }\n\n  var patternEditorDisplay;\n\n  if (showPatternEditor === true) {\n    patternEditorDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5__[\"Suspense\"], {\n      fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_loading_spinner__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(PatternEditor, {\n      trackIndex: patternEditorTrackIndex\n    }));\n  }\n\n  var sampleEditorStyle = {\n    \"height\": window.innerHeight - 165\n  };\n\n  if (window.innerHeight < 865) {\n    sampleEditorStyle[\"overflow-y\"] = \"scroll\";\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n    className: \"sample-editor-menu\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"a\", null, \"New\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      setShowFilePicker(showFilePicker === true ? false : true);\n      setSketchPadDialogActionType('LOAD');\n    }\n  }, \"Load\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"a\", {\n    onClick: saveCurrentSketch\n  }, \"Save\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      setShowFilePicker(showFilePicker === true ? false : true);\n      setSketchPadDialogActionType('SAVE');\n    }\n  }, \"Save As...\")), sketchInfo !== null ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"li\", {\n    style: {\n      \"float\": \"right\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"a\", null, sketchInfo.lastSelectedSketch)) : '')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(\"div\", {\n    id: \"sample-editor\",\n    style: sampleEditorStyle\n  }, tracksDisplay), filePickerDisplay, patternEditorDisplay);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SampleEditor);\n\n//# sourceURL=webpack:///./src/app/sample-editor/sample-editor.js?");

/***/ }),

/***/ "./src/app/sample-editor/sample.js":
/*!*****************************************!*\
  !*** ./src/app/sample-editor/sample.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar Sample = function Sample(props) {\n  var index = props.index,\n      sample = props.sample,\n      trackIndex = props.trackIndex,\n      removeSample = props.removeSample,\n      uploadSample = props.uploadSample,\n      setLoadFromSketchPadSampleIndex = props.setLoadFromSketchPadSampleIndex,\n      setLoadFromSketchPadFileType = props.setLoadFromSketchPadFileType,\n      setShowSampleSetSourcePicker = props.setShowSampleSetSourcePicker;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(null),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n      isPlaying = _useState4[0],\n      setIsPlaying = _useState4[1]; // if (data !== null) console.log(data,\"data\")\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (sample) {\n      if (sample.name) {\n        readSampleData(sample); // console.log('will upload sample')\n\n        uploadSample(sample, index);\n      } else if (sample.path) {\n        getSampleFile();\n      }\n    }\n  }, [sample]);\n\n  function readSampleData(file) {\n    // console.log(sample,\"sample\")\n    var reader = new FileReader();\n    reader.addEventListener('load', function () {\n      var result = reader.result;\n\n      if (reader.result.indexOf('data:application/octet-stream;') > -1) {\n        result = reader.result.split(':application/octet-stream;').join(':audio/wav;');\n      }\n\n      setData(result);\n    }, false);\n    reader.readAsDataURL(file);\n  }\n\n  function getSampleFile() {\n    return _getSampleFile.apply(this, arguments);\n  }\n\n  function _getSampleFile() {\n    _getSampleFile = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      var sPath, response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              sPath = sample.path.split('.').join('++');\n              if (sPath.indexOf('/') > -1) sPath = sPath.split('/').join('+');\n              _context.next = 4;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/\").concat(props.sampleSetMode === \"sample-loop\" ? \"clip\" : \"sample\", \"/\").concat(trackIndex + 1 + \"+++\" + sPath), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.blob();\n\n            case 7:\n              res = _context.sent;\n              readSampleData(res);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getSampleFile.apply(this, arguments);\n  }\n\n  function playSample() {\n    setIsPlaying(true);\n    document.getElementById(\"sample-\".concat(trackIndex + 1, \"-\").concat(index + 1, \"-audio-player\")).play();\n  }\n\n  function pauseSample() {\n    setIsPlaying(false);\n    document.getElementById(\"sample-\".concat(trackIndex + 1, \"-\").concat(index + 1, \"-audio-player\")).pause();\n  }\n\n  function onSamplePlusClick(index) {\n    setLoadFromSketchPadFileType('wav');\n    setLoadFromSketchPadSampleIndex(index);\n    setShowSampleSetSourcePicker(true);\n  }\n\n  var sampleControlDisplay, sampleActionsDisplay;\n\n  if (sample && sample !== null && sample.path !== null) {\n    if (isPlaying === true) {\n      sampleControlDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n        className: \"play-sample-button\",\n        onClick: pauseSample\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"i\", {\n        className: \"glyphicon glyphicon-pause\"\n      }));\n    } else {\n      sampleControlDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n        className: \"play-sample-button\",\n        onClick: playSample\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"i\", {\n        className: \"glyphicon glyphicon-play-circle\"\n      }));\n    }\n\n    sampleActionsDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n      className: \"edit-sample-button\",\n      onClick: function onClick() {\n        return removeSample(sample, index, true);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"i\", {\n      className: \"glyphicon glyphicon-trash\"\n    }));\n  } else {\n    sampleActionsDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n      className: \"edit-sample-button\",\n      onClick: function onClick() {\n        return onSamplePlusClick(index);\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"i\", {\n      className: \"glyphicon glyphicon-plus\"\n    }));\n  }\n\n  var samplePath;\n\n  if (sample) {\n    samplePath = sample.path ? sample.path : sample.name;\n\n    if (samplePath && samplePath !== null) {\n      if (samplePath.indexOf('/') > -1) samplePath = samplePath.split('/')[samplePath.split('/').length - 1];\n      if (samplePath.split('.')[0].length > 16) samplePath = samplePath.substring(0, 17) + '...wav';\n    }\n  }\n\n  var samplePathDisplay = \"---\";\n\n  if (samplePath && samplePath !== null) {\n    samplePathDisplay = samplePath;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", {\n    id: \"sample-\".concat(trackIndex + 1, \"-\").concat(index + 1)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"audio\", {\n    id: \"sample-\".concat(trackIndex + 1, \"-\").concat(index + 1, \"-audio-player\"),\n    src: data\n  }), sampleControlDisplay, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"h4\", {\n    title: sample && samplePath !== null ? sample.path : ''\n  }, samplePathDisplay), sampleActionsDisplay);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sample);\n\n//# sourceURL=webpack:///./src/app/sample-editor/sample.js?");

/***/ }),

/***/ "./src/app/sample-editor/sketch-pad-file-loader.js":
/*!*********************************************************!*\
  !*** ./src/app/sample-editor/sketch-pad-file-loader.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_icons_ai__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/ai */ \"./node_modules/react-icons/ai/index.esm.js\");\n/* harmony import */ var react_icons_vsc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-icons/vsc */ \"./node_modules/react-icons/vsc/index.esm.js\");\n/* harmony import */ var react_icons_bs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-icons/bs */ \"./node_modules/react-icons/bs/index.esm.js\");\n/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-icons/fa */ \"./node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers */ \"./src/app/helpers.js\");\n\n\n\n\n\n\n\n\n\n\nvar SketchPadFileLoader = function SketchPadFileLoader(props) {\n  var initFolderPath = \"/home/pi/zynthian-my-data/sketches/my-sketches/\";\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(null),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      fileList = _useState2[0],\n      setFileList = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(initFolderPath),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n      folderPath = _useState4[0],\n      setFolderPath = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),\n      folderName = _useState6[0],\n      setFolderName = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(null),\n      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),\n      selectedFile = _useState8[0],\n      setSelectedFile = _useState8[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    getSketchPadFiles();\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (folderPath !== null) {\n      setFileList(null);\n      getSketchPadFiles();\n    }\n  }, [folderPath]);\n\n  function getSketchPadFiles() {\n    return _getSketchPadFiles.apply(this, arguments);\n  }\n\n  function _getSketchPadFiles() {\n    _getSketchPadFiles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      var response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/folder/\").concat(folderPath.split('/').join('+++').split(' ').join('%20')), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              res = _context.sent;\n              setFileList(res);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getSketchPadFiles.apply(this, arguments);\n  }\n\n  function selectFileFromSketchPad(file, fileType) {\n    // const newFolderPath = folderPath + file.path.split(folderPath)[1];\n    // setFolderPath(newFolderPath)\n    if (file.isDir === true) {\n      setFolderPath(file.path + \"/\");\n    } else {\n      if (props.actionType === \"LOAD\") {\n        if (fileType === \"json\") {\n          if (props.fileType === \"json\") {\n            props.loadSampleSet(file);\n            props.setShowLoadFromSketchPadDialog(false);\n          } else if (props.fileType === \"sketch.json\" && file.path.indexOf('sketch.json') > -1) {\n            props.loadSketch(file.path);\n            props.setShowLoadFromSketchPadDialog(false);\n          }\n        } else if (props.fileType === \"wav\" && fileType === \"wav\" || props.fileType === \"wav\" && fileType === \"mp3\") {\n          props.insertSample(file.path, props.sampleIndex);\n          props.setShowLoadFromSketchPadDialog(false);\n        } else {\n          var newFolderPath = file.path.split('zynthian-my-data/')[1];\n          setFolderPath(newFolderPath);\n        }\n      } else if (props.actionType === \"SAVE\") {\n        var _newFolderPath = file.path.split('zynthian-my-data/')[1];\n        setFolderPath(_newFolderPath);\n      }\n    }\n  }\n\n  function onSaveAsClick(folderName) {\n    if (props.fileType === \"json\") {\n      var destPath = folderPath + folderName;\n      props.saveSampleSet(destPath);\n      props.setShowLoadFromSketchPadDialog(false);\n    } else if (props.fileType === \"sketch.json\") {\n      console.log('on save sketch json');\n      props.setShowLoadFromSketchPadDialog(false);\n      props.saveSketch(folderPath.split('/home/pi/')[1] + folderName);\n    }\n  }\n\n  function goBack() {\n    var newFolderPath;\n\n    if (folderPath.indexOf('/') > -1) {\n      var lastFolderInChain = folderPath.split(\"/\")[folderPath.split(\"/\").length - 2];\n      newFolderPath = folderPath.split(\"/\" + lastFolderInChain)[0] + \"/\";\n    } else {\n      newFolderPath = initFolderPath;\n    }\n\n    setFolderPath(newFolderPath);\n  }\n\n  var fileListDisplay;\n\n  if (fileList !== null) {\n    fileListDisplay = fileList.map(function (f, index) {\n      var showItem = true;\n      var iconDispaly = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_4__[\"AiFillFolder\"], null);\n      var fileType = \"\";\n      var relPath = f.path;\n      relPath = f.path.split(folderPath)[1];\n      if (relPath && relPath[0] === \"/\") relPath = relPath.substring(1);\n      if (relPath && relPath.split('/').length > 1) showItem = false;\n\n      if (relPath && relPath.indexOf('.') > -1) {\n        fileType = relPath.split('.')[relPath.split('.').length - 1];\n        iconDispaly = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_bs__WEBPACK_IMPORTED_MODULE_6__[\"BsFillFileEarmarkFill\"], null);\n\n        if (fileType === \"json\") {\n          if (props.fileType === \"wav\" || props.fileType === \"mp3\") showItem = false;else {\n            iconDispaly = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_vsc__WEBPACK_IMPORTED_MODULE_5__[\"VscJson\"], null);\n\n            if (relPath.indexOf('sketch.json') > -1) {\n              if (props.fileType === \"json\") showItem = false;\n            } else {\n              if (props.fileType === \"sketch.json\") showItem = false;\n            }\n          }\n        } else if (fileType === \"wav\" || fileType === \"mp3\") {\n          if (props.fileType === \"json\") showItem = false;else iconDispaly = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_bs__WEBPACK_IMPORTED_MODULE_6__[\"BsFillFileEarmarkMusicFill\"], null);\n        } else if (fileType === \"cache\") {\n          showItem = false;\n        }\n      }\n\n      if (showItem === true) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", {\n          key: index\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n          onClick: function onClick() {\n            return setSelectedFile(relPath, fileType);\n          },\n          className: relPath === selectedFile ? \"active\" : \"\",\n          onDoubleClick: function onDoubleClick() {\n            return selectFileFromSketchPad(f, fileType);\n          }\n        }, iconDispaly, \" \", relPath));\n      }\n    });\n  }\n\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])();\n  Object(_helpers__WEBPACK_IMPORTED_MODULE_8__[\"useOnClickOutside\"])(ref, function (e) {\n    props.setShowLoadFromSketchPadDialog(false);\n  });\n  var goBackDisplay;\n\n  if (folderPath !== initFolderPath) {\n    goBackDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n      onDoubleClick: function onDoubleClick() {\n        return goBack();\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_4__[\"AiFillFolderOpen\"], null), \" ...\"));\n  }\n\n  var bottomSaveInput,\n      containerCssClass = 'sample-set-load-from-sketch-pad-dialog';\n\n  if (props.actionType === \"SAVE\") {\n    containerCssClass += \" w-save\";\n    bottomSaveInput = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n      className: \"dialog-footer\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"input\", {\n      value: folderName,\n      onChange: function onChange(e) {\n        return setFolderName(e.target.value);\n      },\n      type: \"text\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"button\", {\n      onClick: function onClick() {\n        return onSaveAsClick(folderName);\n      }\n    }, \"Save\"));\n  }\n\n  var itemType = \"FILE\";\n  if (props.fileType === \"json\") itemType = \"SAMPLESET\";else if (props.fileType === \"sketch.json\") itemType = \"SKETCH\";\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    ref: ref,\n    className: containerCssClass\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    className: \"close\",\n    onClick: function onClick() {\n      return props.setShowLoadFromSketchPadDialog(false);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_7__[\"FaWindowClose\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"h4\", null, props.actionType, \" \", itemType, \" FROM SKETCH PAD\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"ul\", null, goBackDisplay, fileListDisplay), bottomSaveInput);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SketchPadFileLoader);\n\n//# sourceURL=webpack:///./src/app/sample-editor/sketch-pad-file-loader.js?");

/***/ }),

/***/ "./src/app/sample-editor/track-sample-set.js":
/*!***************************************************!*\
  !*** ./src/app/sample-editor/track-sample-set.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dropzone */ \"./node_modules/react-dropzone/dist/es/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_icons_ai__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-icons/ai */ \"./node_modules/react-icons/ai/index.esm.js\");\n/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-icons/fa */ \"./node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var _sample__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sample */ \"./src/app/sample-editor/sample.js\");\n/* harmony import */ var _sketch_pad_file_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./sketch-pad-file-loader */ \"./src/app/sample-editor/sketch-pad-file-loader.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar TrackSampleSet = function TrackSampleSet(props) {\n  var index = props.index,\n      samples = props.samples,\n      setSamples = props.setSamples,\n      samplesArray = props.samplesArray,\n      getTrackSampleSet = props.getTrackSampleSet,\n      sampleSetMode = props.sampleSetMode,\n      sketchFolder = props.sketchFolder;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])('hidden'),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),\n      dragZoneContainerCssClass = _useState2[0],\n      setDragZoneContainerCssClass = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),\n      showSampleSetSourcePicker = _useState4[0],\n      setShowSampleSetSourcePicker = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),\n      showSampleSetDropZone = _useState6[0],\n      setShowSampleSetDropZone = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(\"LOAD\"),\n      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState7, 2),\n      sketchPadDialogActionType = _useState8[0],\n      setSketchPadDialogActionType = _useState8[1];\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n      _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState9, 2),\n      showLoadFromSketchPadDialog = _useState10[0],\n      setShowLoadFromSketchPadDialog = _useState10[1];\n\n  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(null),\n      _useState12 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState11, 2),\n      loadFromSketchPadSampleIndex = _useState12[0],\n      setLoadFromSketchPadSampleIndex = _useState12[1];\n\n  var _useState13 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])('wav'),\n      _useState14 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState13, 2),\n      loadFromSketchPadFileType = _useState14[0],\n      setLoadFromSketchPadFileType = _useState14[1];\n\n  var selectedFolder = \"\".concat(sketchFolder, \"wav/sampleset/sample-bank.\").concat(index + 1);\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    window.addEventListener('keydown', handleKeyPress, false);\n    return function () {\n      window.removeEventListener('keydown', handleKeyPress, false);\n    };\n  }, []);\n\n  function handleKeyPress(e) {\n    if (e.key === \"Escape\") {\n      setShowSampleSetSourcePicker(false);\n      setShowSampleSetDropZone(false);\n      setShowLoadFromSketchPadDialog(false);\n    }\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    if (showSampleSetDropZone === true) {\n      setShowSampleSetSourcePicker(false);\n    }\n  }, [showSampleSetDropZone]);\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    if (loadFromSketchPadSampleIndex !== null) {\n      setShowSampleSetSourcePicker(true);\n    }\n  }, [loadFromSketchPadSampleIndex]);\n\n  function addSample(file) {\n    setShowSampleSetSourcePicker(false);\n    var sampleIndexToReplace = loadFromSketchPadSampleIndex;\n\n    if (loadFromSketchPadSampleIndex === null) {\n      sampleIndexToReplace = samples.findIndex(function (sample) {\n        return sample === null;\n      });\n      if (!sampleIndexToReplace || sampleIndexToReplace === null) sampleIndexToReplace = 0;\n    }\n\n    var newSamples = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(samples.slice(0, sampleIndexToReplace)), [file], _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(samples.slice(sampleIndexToReplace + 1, samples.length)));\n    setSamples(newSamples);\n    setLoadFromSketchPadSampleIndex(null);\n  }\n\n  function onUploadSample(_x, _x2, _x3) {\n    return _onUploadSample.apply(this, arguments);\n  }\n\n  function _onUploadSample() {\n    _onUploadSample = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee4(sample, sIndex, isInsert) {\n      var sPath, trackSampleSetFolder, response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              sPath = sample.name;\n              trackSampleSetFolder = \"/home/pi\" + props.sketchFolder;\n              trackSampleSetFolder = trackSampleSetFolder.split('/').join('+++');\n              _context4.next = 5;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/track/\").concat(trackSampleSetFolder, \":\").concat(index + 1), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  sIndex: sIndex,\n                  sPath: sPath\n                })\n              });\n\n            case 5:\n              response = _context4.sent;\n              _context4.next = 8;\n              return response.json();\n\n            case 8:\n              res = _context4.sent;\n              uploadSample(sample);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _onUploadSample.apply(this, arguments);\n  }\n\n  var uploadSample = /*#__PURE__*/function () {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(sample) {\n      var formData;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              formData = new FormData();\n              formData.append('file', sample); // appending file\n\n              axios__WEBPACK_IMPORTED_MODULE_6___default.a.post(\"http://\".concat(window.location.hostname, \":3000/upload/\").concat(selectedFolder.split('/').join('+++') + '+++'), formData).then(function (res) {// then print response status\n                //   console.log(res)\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function uploadSample(_x4) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function removeSample(_x5, _x6, _x7) {\n    return _removeSample.apply(this, arguments);\n  }\n\n  function _removeSample() {\n    _removeSample = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee5(sample, sIndex, fetchSamples) {\n      var trackIndex, sPath, response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!(sampleSetMode === \"sample-loop\")) {\n                _context5.next = 4;\n                break;\n              }\n\n              // CLIP\n              props.updateTrackClips(\"remove\", index, sIndex);\n              _context5.next = 13;\n              break;\n\n            case 4:\n              // SAMPLE\n              trackIndex = index + 1;\n              sPath = sample.path;\n              _context5.next = 8;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/sample/\").concat(trackIndex), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  trackIndex: trackIndex,\n                  sPath: sPath,\n                  sIndex: sIndex\n                })\n              });\n\n            case 8:\n              response = _context5.sent;\n              _context5.next = 11;\n              return response.json();\n\n            case 11:\n              res = _context5.sent;\n              // console.log(res)\n              setSamples(res);\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n    return _removeSample.apply(this, arguments);\n  }\n\n  function onInsertSample(_x8, _x9, _x10, _x11) {\n    return _onInsertSample.apply(this, arguments);\n  }\n\n  function _onInsertSample() {\n    _onInsertSample = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee6(filePath, sIndex, multiple, isSaveAs) {\n      var fileName, sPath, trackSampleSetFolder, response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              console.log(\"ON INSERT SAMPLE\");\n              console.log(filePath, sIndex, multiple, isSaveAs); // console.log('ON INSERT SAMPLE')\n\n              setLoadFromSketchPadSampleIndex(null);\n\n              if (!(sampleSetMode === \"sample-loop\")) {\n                _context6.next = 7;\n                break;\n              }\n\n              // console.log('insert loop')\n              props.updateTrackClips(\"insert\", index, sIndex, filePath, multiple, isSaveAs);\n              _context6.next = 18;\n              break;\n\n            case 7:\n              fileName = filePath.split('/')[filePath.split('/').length - 1];\n              sPath = fileName; // console.log(fileName,\"fileName\")\n\n              trackSampleSetFolder = \"/home/pi\" + props.sketchFolder;\n              trackSampleSetFolder = trackSampleSetFolder.split('/').join('+++');\n              _context6.next = 13;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/track/\").concat(trackSampleSetFolder, \":\").concat(index + 1), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  sIndex: sIndex,\n                  sPath: sPath\n                })\n              });\n\n            case 13:\n              response = _context6.sent;\n              _context6.next = 16;\n              return response.json();\n\n            case 16:\n              res = _context6.sent;\n              insertSample(filePath, fileName, sIndex, multiple, isSaveAs);\n\n            case 18:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    return _onInsertSample.apply(this, arguments);\n  }\n\n  function insertSample(_x12, _x13, _x14, _x15, _x16) {\n    return _insertSample.apply(this, arguments);\n  }\n\n  function _insertSample() {\n    _insertSample = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee7(filePath, fileName, sIndex, multiple, isSaveAs) {\n      var previousPath, destinationPath, deleteOrigin, response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              previousPath = isSaveAs === true ? \"/home/pi\" + selectedFolder + \"/\" + fileName : filePath;\n              destinationPath = isSaveAs === true ? filePath.split(\"/pi\")[1] : selectedFolder + \"/\" + fileName;\n              deleteOrigin = false;\n              _context7.next = 5;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/copypaste\"), {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  previousPath: previousPath,\n                  destinationPath: destinationPath,\n                  deleteOrigin: deleteOrigin\n                })\n              });\n\n            case 5:\n              response = _context7.sent;\n              _context7.next = 8;\n              return response.json();\n\n            case 8:\n              res = _context7.sent;\n\n              if (multiple === true) {\n                if (sIndex === samples.length - 1) getTrackSampleSet();\n              } else getTrackSampleSet();\n\n            case 10:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n    return _insertSample.apply(this, arguments);\n  }\n\n  function removeAllSamples() {\n    samples.forEach(function (sample, index) {\n      var fetchSamples = false;\n      if (index === samples.length - 1) fetchSamples = true;\n      removeSample(sample, index, fetchSamples);\n    });\n  }\n\n  function saveSampleSetAs() {\n    setLoadFromSketchPadFileType(\"json\");\n    setSketchPadDialogActionType(\"SAVE\");\n    setShowLoadFromSketchPadDialog(true);\n  }\n\n  function loadSampleSet(_x17) {\n    return _loadSampleSet.apply(this, arguments);\n  }\n\n  function _loadSampleSet() {\n    _loadSampleSet = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee8(file) {\n      var sampleSetIndex, path, response, res, baseFilePath;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              sampleSetIndex = file.path.split('sample-bank.')[1];\n              path = file.path.split('/').join('+++');\n              _context8.next = 4;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/json/\").concat(path), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 4:\n              response = _context8.sent;\n              _context8.next = 7;\n              return response.json();\n\n            case 7:\n              res = _context8.sent;\n              baseFilePath = \"/home/pi\" + selectedFolder.split('/sample-bank')[0] + \"/sample-bank.\" + sampleSetIndex;\n              res.forEach(function (sample, sIndex) {\n                // console.log(sample,sIndex,\"sample + sIndex on forEach in load\")\n                if (sample !== null) {\n                  onInsertSample(baseFilePath + sample.path, sIndex, true);\n                } else {\n                  if (sIndex === samples.length - 1) getTrackSampleSet();\n                }\n              });\n\n            case 10:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n    return _loadSampleSet.apply(this, arguments);\n  }\n\n  function saveSampleSet(dirPath) {\n    var fullPath = dirPath.split('/pi')[1]; // console.log(sketchFolder, \" SKETCH FOLDER \")\n    // console.log(index, \" TRACK INDEX \")\n    // console.log(dirPath)\n\n    fetch(\"http://\".concat(window.location.hostname, \":3000/createfolder\"), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        fullPath: fullPath\n      })\n    }).then( /*#__PURE__*/function () {\n      var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3(res) {\n        var response;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return res.json();\n\n              case 2:\n                response = _context3.sent;\n                fetch(\"http://\".concat(window.location.hostname, \":3000/copypaste\"), {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    previousPath: \"/home/pi\".concat(sketchFolder, \"wav/sampleset/sample-bank.\").concat(index + 1, \"/sample-bank.json\"),\n                    destinationPath: dirPath.split('/home/pi')[1] + \"/sample-bank.json\",\n                    deleteOrigin: false\n                  })\n                }).then( /*#__PURE__*/function () {\n                  var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(res) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            samples.forEach(function (sample, sIndex) {\n                              // console.log(sample,sIndex,\"sample + sIndex on forEach in load\")\n                              if (sample !== null) {\n                                onInsertSample(dirPath + \"/\" + sample.path, sIndex, true, true);\n                              }\n                            });\n\n                          case 1:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n\n                  return function (_x19) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x18) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n\n  var hideMaskTimeout;\n\n  function onSampleListDragOver() {\n    clearTimeout(hideMaskTimeout);\n    setDragZoneContainerCssClass('');\n  }\n\n  function onSampleListDragExit() {\n    hideMaskTimeout = setTimeout(function () {\n      setDragZoneContainerCssClass('hidden');\n    }, 10);\n  }\n\n  function onDropSamples(acceptedFiles) {\n    setDragZoneContainerCssClass('hidden');\n    acceptedFiles.forEach(function (file, index) {\n      addSample(file); // const reader = new FileReader();\n    });\n  }\n\n  function onSampleSetPlusClick() {\n    setLoadFromSketchPadFileType(\"json\");\n    setShowSampleSetDropZone(false);\n    setShowSampleSetSourcePicker(showSampleSetSourcePicker === true ? false : true);\n  }\n\n  function onLoadFromExternalMachineClick() {\n    setShowSampleSetDropZone(true);\n    setShowSampleSetSourcePicker(false);\n  }\n\n  function onLoadFromSketpchPadClick() {\n    setSketchPadDialogActionType(\"LOAD\");\n    setShowLoadFromSketchPadDialog(true);\n    setShowSampleSetSourcePicker(false);\n  }\n\n  function onDropSampleSet(acceptedFiles) {\n    var newSamples = [];\n\n    for (var i in acceptedFiles) {\n      var file = {\n        path: acceptedFiles[i].path,\n        file: acceptedFiles[i]\n      };\n      newSamples.push(file);\n    }\n\n    setSamples(acceptedFiles);\n    setShowSampleSetDropZone(false);\n  }\n\n  var itemsArray = samplesArray;\n\n  if (props.sampleSetMode === \"sample-loop\") {\n    itemsArray = samples;\n  }\n\n  var samplesDisplay = itemsArray.map(function (sample, i) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_sample__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      key: i,\n      index: i,\n      sample: samples[i],\n      trackIndex: index,\n      removeSample: removeSample,\n      addSample: addSample,\n      uploadSample: onUploadSample,\n      setLoadFromSketchPadSampleIndex: setLoadFromSketchPadSampleIndex,\n      setLoadFromSketchPadFileType: setLoadFromSketchPadFileType,\n      setShowSampleSetSourcePicker: setShowSampleSetSourcePicker,\n      sampleSetMode: props.sampleSetMode\n    });\n  });\n  var sampleSetUploadDisplay;\n\n  if (showSampleSetDropZone === true) {\n    sampleSetUploadDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n      className: \"sample-set-upload-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n      className: \"dropzone-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      onDrop: function onDrop(acceptedFiles) {\n        return onDropSampleSet(acceptedFiles);\n      }\n    }, function (_ref4) {\n      var getRootProps = _ref4.getRootProps,\n          getInputProps = _ref4.getInputProps;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"section\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", getRootProps(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"input\", getInputProps()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"p\", null, \"Drag 'n' drop some files here\")));\n    })));\n  }\n\n  var sampleSetSourcePickerDisplay;\n\n  if (showSampleSetSourcePicker === true) {\n    var lfxeDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n      className: \"button\",\n      onClick: onLoadFromExternalMachineClick\n    }, \"Load from External\");\n\n    if (loadFromSketchPadSampleIndex !== null) {\n      lfxeDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n        className: \"button\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"input\", {\n        type: \"file\",\n        onChange: function onChange(e) {\n          return addSample(e.target.files[0], loadFromSketchPadSampleIndex);\n        }\n      }), \"Load from External\");\n    }\n\n    sampleSetSourcePickerDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n      className: \"sample-set-upload-container source-picker\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n      onClick: function onClick() {\n        return setShowSampleSetSourcePicker(false);\n      },\n      className: \"close-source-picker\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_8__[\"FaWindowClose\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n      className: \"button\",\n      onClick: onLoadFromSketpchPadClick\n    }, \"Pick from Internal\"), lfxeDisplay);\n  }\n\n  var sampleSetLoadFromSketchPadDialogDisplay;\n\n  if (showLoadFromSketchPadDialog === true) {\n    var sampleIndexToReplace = loadFromSketchPadSampleIndex;\n\n    if (loadFromSketchPadSampleIndex === null) {\n      sampleIndexToReplace = samples.findIndex(function (sample) {\n        return sample === null;\n      });\n      if (!sampleIndexToReplace || sampleIndexToReplace === null) sampleIndexToReplace = 0;\n    }\n\n    sampleSetLoadFromSketchPadDialogDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_sketch_pad_file_loader__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      actionType: sketchPadDialogActionType,\n      setShowLoadFromSketchPadDialog: setShowLoadFromSketchPadDialog,\n      insertSample: onInsertSample,\n      loadSampleSet: loadSampleSet,\n      saveSampleSet: saveSampleSet,\n      sampleIndex: sampleIndexToReplace,\n      fileType: loadFromSketchPadFileType\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: \"sample-list-container \" + (props.sampleSetMode === \"sample-loop\" ? \"show-clips\" : \"\"),\n    onDragOver: onSampleListDragOver,\n    onDragLeave: onSampleListDragExit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", {\n    className: \"dropzone-container \" + dragZoneContainerCssClass\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    onDrop: function onDrop(acceptedFiles) {\n      return onDropSamples(acceptedFiles);\n    }\n  }, function (_ref5) {\n    var getRootProps = _ref5.getRootProps,\n        getInputProps = _ref5.getInputProps;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"section\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"div\", getRootProps(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n      onClick: function onClick() {\n        return onSampleListDragExit(false);\n      },\n      className: \"close-source-picker\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_8__[\"FaWindowClose\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"input\", getInputProps()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"p\", null, \"Drag 'n' drop some files here\")));\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"ul\", {\n    className: \"sample-list\"\n  }, samplesDisplay)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"ul\", {\n    className: \"sample-set-actions\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      return removeAllSamples();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"i\", {\n    style: {\n      marginTop: \"1px\"\n    },\n    className: \"glyphicon glyphicon-trash\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      return saveSampleSetAs();\n    }\n  }, \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_7__[\"AiFillSave\"], null), \" \")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"li\", {\n    style: {\n      \"float\": \"right\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"a\", {\n    onClick: onSampleSetPlusClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"i\", {\n    className: \"glyphicon glyphicon-plus\"\n  })))), sampleSetUploadDisplay, sampleSetSourcePickerDisplay, sampleSetLoadFromSketchPadDialogDisplay);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TrackSampleSet);\n\n//# sourceURL=webpack:///./src/app/sample-editor/track-sample-set.js?");

/***/ }),

/***/ "./src/app/sample-editor/track.js":
/*!****************************************!*\
  !*** ./src/app/sample-editor/track.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-color */ \"./node_modules/react-color/es/index.js\");\n/* harmony import */ var react_icons_ai__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-icons/ai */ \"./node_modules/react-icons/ai/index.esm.js\");\n/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-icons/md */ \"./node_modules/react-icons/md/index.esm.js\");\n/* harmony import */ var react_icons_bi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-icons/bi */ \"./node_modules/react-icons/bi/index.esm.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers */ \"./src/app/helpers.js\");\n/* harmony import */ var _track_sample_set__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./track-sample-set */ \"./src/app/sample-editor/track-sample-set.js\");\n\n\n\n\n\n\n\n\n\n\n\nvar Track = function Track(props) {\n  var samplesArray = [null, null, null, null, null];\n  var index = props.index,\n      track = props.track,\n      color = props.color,\n      updateTrackClips = props.updateTrackClips,\n      sketchFolder = props.sketchFolder;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(samplesArray),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      samples = _useState2[0],\n      setSamples = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n      showEditMode = _useState4[0],\n      setShowEditMode = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),\n      showColorPicker = _useState6[0],\n      setShowColorPicker = _useState6[1];\n\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])();\n  Object(_helpers__WEBPACK_IMPORTED_MODULE_8__[\"useOnClickOutside\"])(ref, function () {\n    return setShowColorPicker(false);\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    getTrackSampleSet();\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (props.track && props.track !== null) {\n      setSamples(samplesArray);\n      getTrackSampleSet();\n    }\n  }, [props.track]);\n\n  function getTrackSampleSet() {\n    return _getTrackSampleSet.apply(this, arguments);\n  }\n\n  function _getTrackSampleSet() {\n    _getTrackSampleSet = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      var trackSampleSetFolder, response, res;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              trackSampleSetFolder = \"/home/pi\" + props.sketchFolder;\n              trackSampleSetFolder = trackSampleSetFolder.split('/').join('+++'); // console.log(trackSampleSetFolder, \" TRACK SAMPLE SET FOLDER\")\n\n              _context.next = 4;\n              return fetch(\"http://\".concat(window.location.hostname, \":3000/track/\").concat(trackSampleSetFolder.split('/').join('+++'), \":\").concat(index + 1), {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              res = _context.sent;\n\n              // console.log(res, \" RES ON GET TRACK SAMPLE SET\")\n              if (res) {\n                setSamples(res);\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getTrackSampleSet.apply(this, arguments);\n  }\n\n  var handleColorPickerChange = function handleColorPickerChange(color) {\n    props.updateTrack(index, track.name, color.hex);\n  };\n\n  var colorPickerDisplay;\n\n  if (showColorPicker === true) {\n    colorPickerDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n      className: \"color-picker-container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_color__WEBPACK_IMPORTED_MODULE_4__[\"SketchPicker\"], {\n      color: color,\n      onChange: handleColorPickerChange\n    }));\n  } // <li>\n  //     <a className=\"track-pattern-editor\" onClick={() => props.onShowPatternEditor(index)}>\n  //         <BiGridVertical/>\n  //     </a>\n  // </li>\n\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"sample-set\",\n    style: {\n      backgroundColor: props.color\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    ref: ref,\n    className: \"edit-menu-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"ul\", {\n    className: \"edit-menu\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    className: \"edit-button\",\n    onClick: function onClick() {\n      return setShowEditMode(showEditMode == true ? false : true);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_6__[\"MdEditNote\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"span\", {\n    className: \"edit-button\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    className: \"color-picker\",\n    onClick: function onClick() {\n      return setShowColorPicker(showColorPicker == true ? false : true);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_5__[\"AiOutlineBgColors\"], null)))), colorPickerDisplay), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TrackTitle, {\n    showEditMode: showEditMode,\n    title: track.name,\n    index: index,\n    setShowEditMode: setShowEditMode,\n    updateTrack: props.updateTrack\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TrackSampleModesMenus, {\n    index: index,\n    title: track.name,\n    color: color,\n    keyZoneMode: track.keyzone_mode,\n    trackAudioType: track.trackAudioType,\n    updateTrack: props.updateTrack\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_track_sample_set__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    index: index,\n    samples: track.trackAudioType === \"sample-loop\" ? track.clips : samples,\n    setSamples: setSamples,\n    samplesArray: samplesArray,\n    getTrackSampleSet: getTrackSampleSet,\n    sampleSetMode: track.trackAudioType,\n    keyZoneMode: track.keyzone_mode,\n    updateTrackClips: updateTrackClips,\n    sketchFolder: sketchFolder\n  })));\n};\n\nvar TrackTitle = function TrackTitle(props) {\n  var showEditMode = props.showEditMode,\n      setShowEditMode = props.setShowEditMode,\n      title = props.title,\n      updateTrack = props.updateTrack,\n      index = props.index;\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(title),\n      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),\n      previousTitle = _useState8[0],\n      setPreviousTitle = _useState8[1];\n\n  var undoChangesRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  var saveChangesRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    window.removeEventListener('keydown', handleKeyPress, false);\n    window.addEventListener('keydown', handleKeyPress, false);\n    return function () {\n      window.removeEventListener('keydown', handleKeyPress, false);\n    };\n  }, [title]);\n\n  function handleKeyPress(e) {\n    // console.log(e.key);\n    if (e.key === \"Escape\") {\n      undoChangesRef.current.click();\n    } else if (e.key === \"Enter\") {\n      saveChangesRef.current.click();\n    }\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    // console.log('on show edit mode change - ' + showEditMode)\n    if (showEditMode === true) {\n      setPreviousTitle(title); // window.addEventListener('keypress',onKeyPress)\n    } else if (showEditMode === false) {// window.removeEventListener('keypress',onKeyPress)\n    }\n  }, [showEditMode]);\n\n  function undoTitleChanges() {\n    updateTrack(index, previousTitle);\n    setShowEditMode(false);\n  }\n\n  function saveTitleChanges() {\n    setPreviousTitle(title);\n    setShowEditMode(false);\n  }\n\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])();\n  Object(_helpers__WEBPACK_IMPORTED_MODULE_8__[\"useOnClickOutside\"])(ref, function (e) {\n    if (e.target.className !== \"edit-button\") setShowEditMode(false);\n  });\n  var displayedTitle = title === null ? \"Track \".concat(index + 1) : title;\n  var titleDisplay;\n\n  if (showEditMode === true) {\n    titleDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n      className: \"input-wrapper\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\",\n      value: title,\n      onChange: function onChange(e) {\n        return updateTrack(index, e.target.value);\n      },\n      autoFocus: true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n      ref: undoChangesRef,\n      className: \"undo-title-change\",\n      onClick: undoTitleChanges\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_bi__WEBPACK_IMPORTED_MODULE_7__[\"BiUndo\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n      ref: saveChangesRef,\n      className: \"save-changes\",\n      onClick: function onClick() {\n        return saveTitleChanges();\n      }\n    }));\n  } else {\n    titleDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"h2\", null, displayedTitle);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"sample-set-title\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    ref: ref,\n    className: \"title-wrapper\"\n  }, titleDisplay));\n};\n\nvar TrackSampleModesMenus = function TrackSampleModesMenus(props) {\n  var index = props.index,\n      title = props.title,\n      color = props.color,\n      keyZoneMode = props.keyZoneMode,\n      trackAudioType = props.trackAudioType,\n      updateTrack = props.updateTrack;\n\n  function onKeyZoneModeOptionClick(kzm) {\n    updateTrack(index, title, color, kzm);\n  }\n\n  function onTrackAudioTypeClick(tat) {\n    updateTrack(index, title, color, keyZoneMode, tat);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"track-keyzone-mode-menu\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"track-audio-type-menu-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      return onTrackAudioTypeClick(\"sample-trig\");\n    },\n    className: trackAudioType === \"sample-trig\" ? \"is-active\" : \"\"\n  }, \"Trig\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      return onTrackAudioTypeClick(\"sample-slice\");\n    },\n    className: trackAudioType === \"sample-slice\" ? \"is-active\" : \"\"\n  }, \"Slice\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    style: {\n      opacity: trackAudioType == \"sample-trig\" ? \"1\" : \"0\"\n    },\n    className: \"keyzone-mode-menu-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"span\", null, \"Auto Split:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      return onKeyZoneModeOptionClick(\"all-full\");\n    },\n    className: keyZoneMode === \"all-full\" ? \"is-active\" : \"\"\n  }, \"Off\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      return onKeyZoneModeOptionClick(\"split-full\");\n    },\n    className: keyZoneMode === \"split-full\" ? \"is-active\" : \"\"\n  }, \"Auto\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"a\", {\n    onClick: function onClick() {\n      return onKeyZoneModeOptionClick(\"split-narrow\");\n    },\n    className: keyZoneMode === \"split-narrow\" ? \"is-active\" : \"\"\n  }, \"Narrow\")))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Track);\n\n//# sourceURL=webpack:///./src/app/sample-editor/track.js?");

/***/ })

}]);