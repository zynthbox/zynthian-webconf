"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkzynthbox_webconf_metaheader"] = self["webpackChunkzynthbox_webconf_metaheader"] || []).push([["src_app_sample-manager_SampleManager_js"],{

/***/ "./src/app/sample-manager/SampleManager.js":
/*!*************************************************!*\
  !*** ./src/app/sample-manager/SampleManager.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _loading_spinner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../loading-spinner */ \"./src/app/loading-spinner.js\");\n/* harmony import */ var react_split__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-split */ \"./node_modules/react-split/dist/react-split.es.js\");\n/* harmony import */ var _file_explore_context_context_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./file-explore/context/context-provider */ \"./src/app/sample-manager/file-explore/context/context-provider.js\");\n/* harmony import */ var _TrackerModule__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TrackerModule */ \"./src/app/sample-manager/TrackerModule.js\");\n\n\n\n\n\nvar FileExplore = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_chonky-icon-fontawesome_dist_chonky-icon-fontawesome_esm_js\"), __webpack_require__.e(\"src_app_sample-manager_file-explore_file-explore_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./file-explore/file-explore */ \"./src/app/sample-manager/file-explore/file-explore.js\"));\n});\nvar SampleManger = function SampleManger() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_split__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"split\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"file-manager\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_file_explore_context_context_provider__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, {\n    fallback: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_loading_spinner__WEBPACK_IMPORTED_MODULE_1__[\"default\"], null)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FileExplore, null))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_TrackerModule__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SampleManger);\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./src/app/sample-manager/SampleManager.js?");

/***/ }),

/***/ "./src/app/sample-manager/TrackerModule.js":
/*!*************************************************!*\
  !*** ./src/app/sample-manager/TrackerModule.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dropzone */ \"./node_modules/react-dropzone/dist/es/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ \"./node_modules/axios/lib/axios.js\");\n/* harmony import */ var chiptune3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! chiptune3 */ \"./node_modules/chiptune3/chiptune3.js\");\n\n\n\n\n\n;\n\nvar TrackerModule = function TrackerModule() {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),\n    _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState, 2),\n    files = _useState2[0],\n    setFiles = _useState2[1];\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),\n    _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState3, 2),\n    fileInfo = _useState4[0],\n    setFileInfo = _useState4[1];\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),\n    _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState5, 2),\n    samples = _useState6[0],\n    setSamples = _useState6[1];\n  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),\n    _useState8 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState7, 2),\n    path = _useState8[0],\n    setPath = _useState8[1];\n  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n    _useState10 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState9, 2),\n    isPlaying = _useState10[0],\n    setIsPlaying = _useState10[1];\n  var _useState11 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(''),\n    _useState12 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_useState11, 2),\n    meta = _useState12[0],\n    setMeta = _useState12[1];\n  var playerRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n\n  // init player\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    playerRef.current = new chiptune3__WEBPACK_IMPORTED_MODULE_3__.ChiptuneJsPlayer();\n    playerRef.current.onInitialized(function () {\n      // callback after init    \n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    if (files !== null) {\n      handleFileChange();\n    }\n  }, [files]);\n  var togglePause = function togglePause() {\n    playerRef.current.togglePause();\n    setIsPlaying(isPlaying ? false : true);\n  };\n  var handleFileChange = function handleFileChange(event) {\n    // const file = event.target.files[0];                           \n    var reader = new FileReader();\n    reader.onload = function (e) {\n      // This is where you get the ArrayBuffer\n      var arrayBuffer = e.target.result;\n      playerRef.current.play(arrayBuffer);\n    };\n    reader.readAsArrayBuffer(files[0]);\n    playerRef.current.onMetadata(function (meta) {\n      console.log(meta.song);\n      meta.song = 'too large to display this way...';\n      setMeta(JSON.stringify(meta).replace(/,/g, '<br/>&nbsp;&nbsp;'));\n    });\n    setIsPlaying(true);\n  };\n  var onDrop = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function (acceptedFiles) {\n    setFiles(acceptedFiles);\n  }, []);\n  var _useDropzone = (0,react_dropzone__WEBPACK_IMPORTED_MODULE_4__.useDropzone)({\n      onDrop: onDrop\n    }),\n    getRootProps = _useDropzone.getRootProps,\n    getInputProps = _useDropzone.getInputProps,\n    isDragActive = _useDropzone.isDragActive;\n  var handlePlaySample = function handlePlaySample(s) {\n    var url = \"http://\".concat(window.location.hostname, \":3000/play-sample/\").concat(path + '+++' + s);\n    axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get(url).then(function (res) {});\n  };\n  var handleExtractSamples = function handleExtractSamples() {\n    var url = \"http://\".concat(window.location.hostname, \":3000/tracker-info/\").concat(files[0].name);\n    var formData = new FormData();\n    formData.append('file', files[0]);\n    var config = {};\n    axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post(url, formData, config).then(function (res) {\n      setFileInfo(res.data.message);\n      setSamples(res.data.samples);\n      setPath(res.data.path);\n    });\n  };\n  var samplesDisplay = null;\n  if (samples) {\n    samplesDisplay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"ul\", {\n      className: \"sample-list\"\n    }, samples.map(function (s, i) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"li\", {\n        key: i\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"a\", {\n        onClick: function onClick() {\n          handlePlaySample(s);\n        }\n      }, s, \" \"));\n    }));\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"module-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    className: \"dropzone-container\"\n  }, getRootProps()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"input\", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, getInputProps(), {\n    name: \"file\"\n  })), isDragActive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"p\", null, \"Drop a file[it, xm, s3m, mod, umx, mptm] here ...\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"p\", null, \"Drag 'n' drop a file[it, xm, s3m, mod, umx, mptm] here, or click to select file\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", null, files && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", {\n    onClick: togglePause\n  }, isPlaying ? 'Pause' : 'Play'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", {\n    onClick: handleExtractSamples\n  }, \" Extract Samples \"))), meta && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"metadata\",\n    dangerouslySetInnerHTML: {\n      __html: meta\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"ul\", {\n    className: \"file-info\"\n  }, fileInfo), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    className: \"sample-container\"\n  }, samplesDisplay));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TrackerModule);\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./src/app/sample-manager/TrackerModule.js?");

/***/ }),

/***/ "./src/app/sample-manager/file-explore/context/context-provider.js":
/*!*************************************************************************!*\
  !*** ./src/app/sample-manager/file-explore/context/context-provider.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Context: () => (/* binding */ Context),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _file_manager_reducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./file-manager-reducer */ \"./src/app/sample-manager/file-explore/context/file-manager-reducer.js\");\n\n\n\n\nvar Context = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createContext();\nvar Provider = Context.Provider;\nvar FileManagerContextProvider = function FileManagerContextProvider(props) {\n  var _React$useReducer = react__WEBPACK_IMPORTED_MODULE_2___default().useReducer(_file_manager_reducer__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _file_manager_reducer__WEBPACK_IMPORTED_MODULE_3__.FileManagerInitialState),\n    _React$useReducer2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_React$useReducer, 2),\n    fileManagerState = _React$useReducer2[0],\n    fileManagerDispatch = _React$useReducer2[1];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Provider, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n    value: {\n      fileManagerState: fileManagerState,\n      fileManagerDispatch: fileManagerDispatch\n    }\n  }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FileManagerContextProvider);\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./src/app/sample-manager/file-explore/context/context-provider.js?");

/***/ }),

/***/ "./src/app/sample-manager/file-explore/context/file-manager-reducer.js":
/*!*****************************************************************************!*\
  !*** ./src/app/sample-manager/file-explore/context/file-manager-reducer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileManagerInitialState: () => (/* binding */ FileManagerInitialState),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _helpers_tree_data_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/tree-data-helpers */ \"./src/app/sample-manager/file-explore/helpers/tree-data-helpers.js\");\n/* harmony import */ var _helpers_file_manager_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/file-manager-helpers */ \"./src/app/sample-manager/file-explore/helpers/file-manager-helpers.js\");\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\nvar ffolder = \"/home/pi/zynthian-my-data/samples/\";\nvar ROOTDIR = \"/home/pi/zynthian-my-data/samples/\";\nvar FileManagerInitialState = {\n  loading: true,\n  filesLoading: false,\n  selectedFolder: null,\n  files: [],\n  displayedFiles: [],\n  folderChain: [{\n    id: 'xcv',\n    name: \"zynthian\",\n    alias: ffolder,\n    isDir: true\n  }],\n  browseHistory: [{\n    id: \"xcv\",\n    isDir: true,\n    label: ROOTDIR,\n    name: ROOTDIR,\n    path: ROOTDIR\n  }],\n  browseHistoryIndex: 0,\n  treeData: null,\n  error: null\n};\nfunction ProductViewReducer(state, action) {\n  switch (action.type) {\n    case 'SET_SELECTED_FOLDER':\n      {\n        var data = action.payload;\n\n        // console.log(data, \" DATA PAYLOAD \")\n\n        var dataName = data.name;\n        if (data.alias) {\n          dataName = data.alias;\n        }\n        var idIsInChain = false;\n        state.folderChain.forEach(function (folder, index) {\n          if (folder.id === data.id) idIsInChain = true;\n        });\n        var selectedFolder, folderChain;\n        if (!idIsInChain) {\n          if (state.selectedFolder !== null) {\n            var shortPath = data.path.split(ROOTDIR)[1];\n            if (shortPath && shortPath.indexOf(state.selectedFolder) === -1) {\n              selectedFolder = shortPath;\n              folderChain = [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(FileManagerInitialState.folderChain), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_helpers_file_manager_helpers__WEBPACK_IMPORTED_MODULE_3__.generateNewFolderChain)(shortPath, state.files)));\n            } else {\n              selectedFolder = state.selectedFolder + \"/\" + dataName;\n              folderChain = [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.folderChain), [data]);\n            }\n          } else {\n            selectedFolder = dataName;\n            folderChain = [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.folderChain), [data]);\n          }\n        } else {\n          selectedFolder = dataName === ROOTDIR ? null : state.selectedFolder.split(dataName)[0] + dataName;\n          var folderIndexInChain = state.folderChain.findIndex(function (item) {\n            return item.id === data.id;\n          });\n          folderChain = (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.folderChain.slice(0, folderIndexInChain + 1));\n        }\n        var browseHistory = (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.browseHistory),\n          browseHistoryIndex;\n        if (action.isViewingHistory === true) {\n          browseHistoryIndex = action.browseHistoryIndex;\n        } else {\n          if (state.browseHistoryIndex !== state.browseHistory.length - 1) {\n            browseHistory = [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.browseHistory.slice(0, state.browseHistoryIndex + 1)), [_objectSpread(_objectSpread({}, data), {}, {\n              path: data.path ? data.path : ROOTDIR\n            })]);\n          } else {\n            browseHistory = [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.browseHistory), [_objectSpread(_objectSpread({}, data), {}, {\n              path: data.path ? data.path : ROOTDIR\n            })]);\n          }\n          browseHistoryIndex = browseHistory.length - 1;\n        }\n\n        // console.log(browseHistory, \" BROWSE HISTORY\")\n        // console.log(selectedFolder, \" SELECTED FOLDER PRE UPDATE\")\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          selectedFolder: selectedFolder,\n          folderChain: folderChain,\n          browseHistory: browseHistory,\n          browseHistoryIndex: browseHistoryIndex\n        });\n      }\n    case 'SET_FILES':\n      {\n        var files = (0,_helpers_file_manager_helpers__WEBPACK_IMPORTED_MODULE_3__.arrayUnique)(action.payload.concat(state.files));\n        var displayedFiles = [];\n\n        // files.forEach(function(f,index){\n        //     let displayFile = false;\n        //     if (state.selectedFolder === null && f.folder === ROOTDIR) displayFile = true;\n        //     else  {\n        //         if (ROOTDIR + state.selectedFolder + \"/\" + f.name === f.path){\n        //             displayFile = true;\n        //         }\n        //     }\n        //     if (displayFile === true && displayedFiles.findIndex(df => df.id === f.id) === -1){\n        //         let file = {\n        //             ...f,\n        //             id:f.path,\n        //         }\n        //         displayedFiles.push(file);\n        //     }\n        // });\n        // displayedFiles = arrayUnique(displayedFiles)\n\n        displayedFiles = action.payload.map(function (f) {\n          return _objectSpread(_objectSpread({}, f), {}, {\n            id: f.path\n          });\n        });\n        var treeData = (0,_helpers_tree_data_helpers__WEBPACK_IMPORTED_MODULE_2__.generateTreeFromArray)(files.filter(function (file) {\n          return file.isDir === true;\n        }), state.folderChain, state.selectedFolder);\n        return _objectSpread(_objectSpread({}, state), {}, {\n          files: files,\n          displayedFiles: displayedFiles,\n          treeData: treeData,\n          loading: false,\n          filesLoading: false\n        });\n      }\n    case 'RENAME_FILE':\n      {\n        var _action$payload = action.payload,\n          previousPath = _action$payload.previousPath,\n          fullPath = _action$payload.fullPath;\n        var _files = state.files.filter(function (file) {\n          return file.path.indexOf(previousPath) === -1;\n        });\n        var _treeData = (0,_helpers_tree_data_helpers__WEBPACK_IMPORTED_MODULE_2__.generateTreeFromArray)(_files.filter(function (file) {\n          return file.isDir === true;\n        }), state.folderChain, state.selectedFolder);\n        return _objectSpread(_objectSpread({}, state), {}, {\n          files: _files,\n          treeData: _treeData\n        });\n      }\n    case 'DELETE_FILES':\n      {\n        var paths = action.payload;\n        var _files2 = state.files.filter(function (file) {\n          var keepFile = true;\n          paths.forEach(function (deletePath, index) {\n            if (file.path.indexOf(deletePath) > -1) keepFile = false;\n          });\n          return keepFile;\n        });\n        var _treeData2 = (0,_helpers_tree_data_helpers__WEBPACK_IMPORTED_MODULE_2__.generateTreeFromArray)(_files2.filter(function (file) {\n          return file.isDir === true;\n        }), state.folderChain, state.selectedFolder);\n        return _objectSpread(_objectSpread({}, state), {}, {\n          files: _files2,\n          treeData: _treeData2\n        });\n      }\n    case 'SET_ERROR':\n      {\n        var error = action.payload;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          error: error\n        });\n      }\n    case 'ON_REFRESH_FILES':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          filesLoading: true\n          // displayedFiles:null\n        });\n      }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProductViewReducer);\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./src/app/sample-manager/file-explore/context/file-manager-reducer.js?");

/***/ }),

/***/ "./src/app/sample-manager/file-explore/helpers/file-manager-helpers.js":
/*!*****************************************************************************!*\
  !*** ./src/app/sample-manager/file-explore/helpers/file-manager-helpers.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arrayUnique: () => (/* binding */ arrayUnique),\n/* harmony export */   generateNewFolderChain: () => (/* binding */ generateNewFolderChain)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings.js */ \"./src/app/sample-manager/file-explore/helpers/settings.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\nfunction arrayUnique(array) {\n  var a = array.concat();\n  for (var i = 0; i < a.length; ++i) {\n    for (var j = i + 1; j < a.length; ++j) {\n      if (a[i].path === a[j].path) a.splice(j--, 1);\n    }\n  }\n  return a;\n}\nfunction generateNewFolderChain(path, files) {\n  var folderChain = [];\n  var newPath = _settings_js__WEBPACK_IMPORTED_MODULE_1__.ROOTDIR;\n  var pathsArray = path.split('/');\n  for (var i = 0; i < pathsArray.length; i++) {\n    var fc = files.filter(function (file) {\n      return file.path === newPath + pathsArray[i];\n    })[0];\n    folderChain.push(_objectSpread(_objectSpread({}, fc), {}, {\n      id: fc.folder + fc.name\n    }));\n    newPath += pathsArray[i] + \"/\";\n  }\n  return folderChain;\n}\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./src/app/sample-manager/file-explore/helpers/file-manager-helpers.js?");

/***/ }),

/***/ "./src/app/sample-manager/file-explore/helpers/settings.js":
/*!*****************************************************************!*\
  !*** ./src/app/sample-manager/file-explore/helpers/settings.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ROOTDIR: () => (/* binding */ ROOTDIR)\n/* harmony export */ });\nvar ROOTDIR = \"/home/pi/zynthian-my-data/samples/\";\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./src/app/sample-manager/file-explore/helpers/settings.js?");

/***/ }),

/***/ "./src/app/sample-manager/file-explore/helpers/tree-data-helpers.js":
/*!**************************************************************************!*\
  !*** ./src/app/sample-manager/file-explore/helpers/tree-data-helpers.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateTreeFromArray: () => (/* binding */ generateTreeFromArray)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings.js */ \"./src/app/sample-manager/file-explore/helpers/settings.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\nfunction getTreeChildren(array, folderChain, selectedFolder, parentPath) {\n  var children = [];\n  array.forEach(function (item, index) {\n    if (item.folder === parentPath) {\n      var newItem = _objectSpread(_objectSpread({}, item), {}, {\n        toggled: folderChain.findIndex(function (fc) {\n          return fc.path === item.path;\n        }) > -1 ? true : false\n      });\n      if (_settings_js__WEBPACK_IMPORTED_MODULE_1__.ROOTDIR + selectedFolder === item.path) {\n        newItem.active = true;\n      }\n      if (array.filter(function (i) {\n        return i.level > item.level;\n      }).length > 0) {\n        newItem.children = getTreeChildren(array.filter(function (i) {\n          return i.level > item.level;\n        }), folderChain, selectedFolder, item.path + \"/\");\n      }\n      children.push(newItem);\n    }\n  });\n  return children;\n}\nfunction generateTreeFromArray(array, folderChain, selectedFolder) {\n  var newTreeData = {\n    name: 'zynthian',\n    toggled: true,\n    path: '/home/pi',\n    active: selectedFolder === null ? true : false,\n    children: getTreeChildren(array, folderChain, selectedFolder, _settings_js__WEBPACK_IMPORTED_MODULE_1__.ROOTDIR)\n  };\n  return newTreeData;\n}\n\n/*\n\n    list of directories\n    create idMapping\n\n*/\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./src/app/sample-manager/file-explore/helpers/tree-data-helpers.js?");

/***/ }),

/***/ "./node_modules/chiptune3/chiptune3.worklet.js":
/*!*****************************************************!*\
  !*** ./node_modules/chiptune3/chiptune3.worklet.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__.p + \"34a58303a85a1f6d296e.js\";\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./node_modules/chiptune3/chiptune3.worklet.js?");

/***/ }),

/***/ "./node_modules/chiptune3/chiptune3.js":
/*!*********************************************!*\
  !*** ./node_modules/chiptune3/chiptune3.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChiptuneJsPlayer: () => (/* binding */ ChiptuneJsPlayer)\n/* harmony export */ });\n/*\n\tchiptune3 (worklet version)\n\tbased on: https://deskjet.github.io/chiptune2.js/\n*/\n\nconst defaultCfg = {\n\trepeatCount: -1,\t\t// -1 = play endless, 0 = play once, do not repeat\n\tstereoSeparation: 100,\t// percents\n\tinterpolationFilter: 0,\t// https://lib.openmpt.org/doc/group__openmpt__module__render__param.html\n\tcontext: false,\n}\n\nclass ChiptuneJsPlayer {\n\tconstructor(cfg) {\n\t\tthis.config = {...defaultCfg, ...cfg}\t\t\n\t\tif (this.config.context) {\n\t\t\tif (!this.config.context.destination) {\n\t\t\t\t//console.error('This is not an audio context.')\n\t\t\t\tthrow('ChiptuneJsPlayer: This is not an audio context')\n\t\t\t}\n\t\t\tthis.context = this.config.context\n\t\t\tthis.destination = false\n\t\t} else {\n\t\t\tthis.context = new AudioContext()\n\t\t\tthis.destination = this.context.destination\t// output to speakers\n\t\t}\n\t\tdelete this.config.context\t// remove from config, just used here and after init not changeable\n\n\t\t// make gainNode\n\t\tthis.gain = this.context.createGain()\n\t\tthis.gain.gain.value = 1\n\n\t\tthis.handlers = []\n\n\t\t// worklet\n\t\tthis.context.audioWorklet.addModule( new URL(/* asset import */ __webpack_require__(/*! ./chiptune3.worklet.js */ \"./node_modules/chiptune3/chiptune3.worklet.js\"), __webpack_require__.b) )\n\t\t.then(()=>{\n\t\t\tthis.processNode = new AudioWorkletNode(this.context, 'libopenmpt-processor', {\n\t\t\t\tnumberOfInputs: 0,\n\t\t\t\tnumberOfOutputs: 1,\n\t\t\t\toutputChannelCount: [2]\n\t\t\t})\n\t\t\t// message port\n\t\t\tthis.processNode.port.onmessage = this.handleMessage_.bind(this)\n\t\t\tthis.processNode.port.postMessage({cmd:'config', val:this.config})\n\t\t\tthis.fireEvent('onInitialized')\n\n\t\t\t// audio routing\n\t\t\tthis.processNode.connect(this.gain)\n\t\t\tif (this.destination) this.gain.connect(this.destination)\t// also connect to output if no gainNode was given\n\t\t})\n\t\t.catch(e=>console.error(e))\n\t}\n\n\t// msg from worklet\n\thandleMessage_(msg) {\n\t\tswitch (msg.data.cmd) {\n\t\t\tcase 'meta':\n\t\t\t\tthis.meta = msg.data.meta\n\t\t\t\tthis.duration = msg.data.meta.dur\n\t\t\t\tthis.fireEvent('onMetadata', this.meta)\n\t\t\t\tbreak\n\t\t\tcase 'pos':\n\t\t\t\t//this.meta.pos = msg.data.pos\n\t\t\t\tthis.currentTime = msg.data.pos\n\t\t\t\tthis.order = msg.data.order\n\t\t\t\tthis.pattern = msg.data.pattern\n\t\t\t\tthis.row = msg.data.row\n\t\t\t\tthis.fireEvent('onProgress', msg.data)\n\t\t\t\tbreak\n\t\t\tcase 'end':\n\t\t\t\tthis.fireEvent('onEnded')\n\t\t\t\tbreak\n\t\t\tcase 'err':\n\t\t\t\tthis.fireEvent('onError', {type: msg.data.val})\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tconsole.log('Received unknown message',msg.data)\n\t\t}\n\t}\n\n\t// handlers\n\tfireEvent(eventName, response) {\n\t\tconst handlers = this.handlers\n\t\tif (handlers.length) {\n\t\t\thandlers.forEach(function (handler) {\n\t\t\t\tif (handler.eventName === eventName) {\n\t\t\t\t\thandler.handler(response)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\taddHandler(eventName, handler) { this.handlers.push({eventName: eventName, handler: handler}) }\n\tonInitialized(handler) { this.addHandler('onInitialized', handler) }\n\tonEnded(handler) { this.addHandler('onEnded', handler) }\n\tonError(handler) { this.addHandler('onError', handler) }\n\tonMetadata(handler) { this.addHandler('onMetadata', handler) }\n\tonProgress(handler) { this.addHandler('onProgress', handler) }\n\n\t// methods\n\tpostMsg(cmd, val) {\n\t\tif (this.processNode)\n\t\t\tthis.processNode.port.postMessage({cmd:cmd,val:val})\n\t}\n\tload(url) {\t\t\n\t\tfetch(url)\n\t\t.then(response => response.arrayBuffer())\n\t\t.then(arrayBuffer => this.play(arrayBuffer))\n\t\t.catch(e=>{this.fireEvent('onError', {type: 'Load'})})\n\t}\n\tplay(val) { this.postMsg('play', val) }\n\tstop() { this.postMsg('stop') }\n\tpause() { this.postMsg('pause') }\n\tunpause() { this.postMsg('unpause') }\n\ttogglePause() { this.postMsg('togglePause') }\n\tsetRepeatCount(val) { this.postMsg('repeatCount', val) }\n\tsetPitch(val) { this.postMsg('setPitch', val) }\n\tsetTempo(val) { this.postMsg('setTempo', val) }\n\tsetPos(val) { this.postMsg('setPos', val) }\n\tsetOrderRow(o,r) { this.postMsg('setOrderRow', {o:o,r:r}) }\n\tsetVol(val) { this.gain.gain.value = val }\n\tselectSubsong(val) { this.postMsg('selectSubsong', val) }\n\t// compatibility\n\tseek(val) { this.setPos(val) }\n\tgetCurrentTime() { return this.currentTime }\n}\n\n\n//# sourceURL=webpack://zynthbox-webconf-metaheader/./node_modules/chiptune3/chiptune3.js?");

/***/ })

}]);