(self.webpackChunkzynthbox_webconf_metaheader=self.webpackChunkzynthbox_webconf_metaheader||[]).push([[423],{6068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(1002),o=n(7294);const a=function(e){var t=e.error,n=e.onDismiss;return console.log((0,r.Z)(t.message)),o.createElement("div",{id:"error-modal"},o.createElement("h3",null,t.type),o.createElement("p",null,t.message),o.createElement("div",null,o.createElement("a",{onClick:n,className:"error-modal-dismiss"},"OK")))}},5738:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(5861),o=n(885),a=n(4687),c=n.n(a),u=n(7294),i=n(1795),s=n(1545),l=n(2225),f=(n(6087),n(5830)),d=n(6068);(0,i._5)({iconComponent:s.K});var p=(0,u.lazy)((function(){return Promise.all([n.e(500),n.e(514),n.e(990),n.e(863),n.e(688)]).then(n.bind(n,4688))})),h=(0,u.lazy)((function(){return n.e(30).then(n.bind(n,8030))}));const m=function(e){var t=e.dir,n=(0,u.useContext)(f._),a=n.fileManagerState,i=n.fileManagerDispatch,s=(0,u.useState)(!1),m=(0,o.Z)(s,2),v=m[0],E=m[1];function y(){return g.apply(this,arguments)}function g(){return g=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t||"/home/pi/"+(null!==a.selectedFolder?a.selectedFolder+"/":""),fetch("http://".concat(window.location.hostname,":3000/folder/").concat(n.split("/").join("+++")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent).errno||i({type:"SET_FILES",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){i({type:"SET_ERROR",payload:{message:"failed to fetch ".concat(n),type:"Folder Error"}})}));case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}(0,u.useEffect)((function(){y()}),[a.selectedFolder]);var w,T=u.createElement(l.Z,null);return!1===a.loading&&(T=u.createElement(u.Fragment,null,u.createElement(h,null),u.createElement(u.Suspense,{fallback:u.createElement(l.Z,null)},u.createElement("div",null,JSON.stringify(a)),u.createElement(p,{fsep:"/",refreshFileManager:y,showFileUploader:v,setShowFileUploader:E,getFiles:y})))),null!==a.error&&(w=u.createElement(d.Z,{error:a.error,onDismiss:function(){return i({type:"SET_ERROR",payload:null})}})),u.createElement("div",{style:{height:window.innerHeight-170},className:"file-manager-wrapper"},w,T)}},6087:(e,t,n)=>{"use strict";n.d(t,{D9:()=>u,TA:()=>i,gB:()=>a,t$:()=>c,ut:()=>l});var r=n(885),o=n(7294);function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var o=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=-1,c=Math.pow(10,n);do{e/=r,++a}while(Math.round(Math.abs(e)*c)/c>=r&&a<o.length-1);return e.toFixed(n)+" "+o[a]}function c(e,t){(0,o.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}function u(e){var t=(0,o.useRef)();return(0,o.useEffect)((function(){t.current=e}),[e]),t.current}var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.shouldPreventDefault,c=void 0===a||a,u=n.delay,i=void 0===u?300:u,l=(0,o.useState)(!1),f=(0,r.Z)(l,2),d=f[0],p=f[1],h=(0,o.useRef)(),m=(0,o.useRef)(),v=(0,o.useCallback)((function(t){c&&t.target&&(t.target.addEventListener("touchend",s,{passive:!1}),m.current=t.target),h.current=setTimeout((function(){e(t),p(!0)}),i)}),[e,i,c]),E=(0,o.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h.current&&clearTimeout(h.current),n&&!d&&t(),p(!1),c&&m.current&&m.current.removeEventListener("touchend",s)}),[c,t,d]);return{onMouseDown:function(e){return v(e)},onTouchStart:function(e){return v(e)},onMouseUp:function(e){return E(e)},onMouseLeave:function(e){return E(e,!1)},onTouchEnd:function(e){return E(e)}}},s=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()};function l(e){var t=Math.floor(e/60),n=e-60*t;return t<10&&(t="0"+t),(n=Math.floor(n))<10&&(n="0"+n),t+":"+n}},2703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,c){if(c!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);