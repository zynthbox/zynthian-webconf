"use strict";(self.webpackChunkzynthbox_webconf_metaheader=self.webpackChunkzynthbox_webconf_metaheader||[]).push([[262],{7262:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(7294),a=r(2225),l=r(5509),o=r(7842),i=r(7462),c=r(885),s=r(3356),u=r(1257);const f=function(){var e=(0,n.useState)(null),t=(0,c.Z)(e,2),r=t[0],a=t[1],l=(0,n.useState)(null),o=(0,c.Z)(l,2),f=o[0],p=o[1],d=(0,n.useState)(null),h=(0,c.Z)(d,2),m=h[0],y=h[1],b=(0,n.useState)(null),v=(0,c.Z)(b,2),O=v[0],E=v[1],g=(0,n.useState)(null),w=(0,c.Z)(g,2),j=w[0],D=w[1],P=(0,n.useCallback)((function(e){var t=[];for(var r in e)t[r]=null!==j?j[r]:0;D(t),a(e)}),[]),Z=(0,s.uI)({onDrop:P}),S=Z.getRootProps,F=Z.getInputProps,C=Z.isDragActive,x=null;return m&&(x=n.createElement("ul",{className:"sample-list"},m.map((function(e,t){return n.createElement("li",{key:t},n.createElement("a",{onClick:function(){!function(e){var t="http://".concat(window.location.hostname,":3000/play-sample/").concat(O+"+++"+e);u.Z.get(t).then((function(e){}))}(e)}},e," "))})))),n.createElement("div",{className:"module-container"},n.createElement("div",(0,i.Z)({className:"dropzone-container"},S()),n.createElement("input",(0,i.Z)({},F(),{name:"file"})),C?n.createElement("p",null,"Drop the files here ..."):n.createElement("p",null,"Drag 'n' drop some files here, or click to select files")),r&&n.createElement("button",{onClick:function(){var e="http://".concat(window.location.hostname,":3000/tracker-info/").concat(r[0].name),t=new FormData;t.append("file",r[0]),u.Z.post(e,t,{}).then((function(e){p(e.data.message),y(e.data.samples),E(e.data.path)}))}},r[0].name," ",">>>>>>>"," extract samples"),n.createElement("ul",{className:"file-info"},f),n.createElement("div",{className:"sample-container"},x))};var p=(0,n.lazy)((function(){return Promise.all([r.e(545),r.e(773)]).then(r.bind(r,8773))}));const d=function(){return n.createElement(n.Fragment,null,n.createElement(l.Z,{className:"split"},n.createElement("div",null,n.createElement("div",{id:"file-manager"},n.createElement(o.Z,null,n.createElement(n.Suspense,{fallback:n.createElement(a.Z,null)},n.createElement(p,null))))),n.createElement("div",null,n.createElement(f,null))))}},7842:(e,t,r)=>{r.d(t,{_:()=>E,Z:()=>w});var n=r(7462),a=r(885),l=r(7294),o=r(4942),i=r(2982),c=r(7259);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r,n){var a=[];return e.forEach((function(l,o){if(l.folder===n){var i=u(u({},l),{},{toggled:t.findIndex((function(e){return e.path===l.path}))>-1});c.E+r===l.path&&(i.active=!0),e.filter((function(e){return e.level>l.level})).length>0&&(i.children=f(e.filter((function(e){return e.level>l.level})),t,r,l.path+"/")),a.push(i)}})),a}function p(e,t,r){return{name:"zynthian",toggled:!0,path:"/home/pi",active:null===r,children:f(e,t,r,c.E)}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b="/home/pi/zynthian-my-data/samples/",v={loading:!0,filesLoading:!1,selectedFolder:null,files:[],displayedFiles:[],folderChain:[{id:"xcv",name:"zynthian",alias:"/home/pi/zynthian-my-data/samples/",isDir:!0}],browseHistory:[{id:"xcv",isDir:!0,label:b,name:b,path:b}],browseHistoryIndex:0,treeData:null,error:null};const O=function(e,t){switch(t.type){case"SET_SELECTED_FOLDER":var r=t.payload,n=r.name;r.alias&&(n=r.alias);var a,l,o=!1;if(e.folderChain.forEach((function(e,t){e.id===r.id&&(o=!0)})),o){a=n===b?null:e.selectedFolder.split(n)[0]+n;var s=e.folderChain.findIndex((function(e){return e.id===r.id}));l=(0,i.Z)(e.folderChain.slice(0,s+1))}else if(null!==e.selectedFolder){var u=r.path.split(b)[1];u&&-1===u.indexOf(e.selectedFolder)?(a=u,l=[].concat((0,i.Z)(v.folderChain),(0,i.Z)(function(e,t){for(var r=[],n=c.E,a=e.split("/"),l=0;l<a.length;l++){var o=t.filter((function(e){return e.path===n+a[l]}))[0];r.push(h(h({},o),{},{id:o.folder+o.name})),n+=a[l]+"/"}return r}(u,e.files)))):(a=e.selectedFolder+"/"+n,l=[].concat((0,i.Z)(e.folderChain),[r]))}else a=n,l=[].concat((0,i.Z)(e.folderChain),[r]);var f,d=(0,i.Z)(e.browseHistory);return f=!0===t.isViewingHistory?t.browseHistoryIndex:(d=e.browseHistoryIndex!==e.browseHistory.length-1?[].concat((0,i.Z)(e.browseHistory.slice(0,e.browseHistoryIndex+1)),[y(y({},r),{},{path:r.path?r.path:b})]):[].concat((0,i.Z)(e.browseHistory),[y(y({},r),{},{path:r.path?r.path:b})])).length-1,y(y({},e),{},{selectedFolder:a,folderChain:l,browseHistory:d,browseHistoryIndex:f});case"SET_FILES":var m,O=function(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)t[r].path===t[n].path&&t.splice(n--,1);return t}(t.payload.concat(e.files));m=t.payload.map((function(e){return y(y({},e),{},{id:e.path})}));var E=p(O.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return y(y({},e),{},{files:O,displayedFiles:m,treeData:E,loading:!1,filesLoading:!1});case"RENAME_FILE":var g=t.payload,w=g.previousPath,j=(g.fullPath,e.files.filter((function(e){return-1===e.path.indexOf(w)}))),D=p(j.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return y(y({},e),{},{files:j,treeData:D});case"DELETE_FILES":var P=t.payload,Z=e.files.filter((function(e){var t=!0;return P.forEach((function(r,n){e.path.indexOf(r)>-1&&(t=!1)})),t})),S=p(Z.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return y(y({},e),{},{files:Z,treeData:S});case"SET_ERROR":var F=t.payload;return y(y({},e),{},{error:F});case"ON_REFRESH_FILES":return y(y({},e),{},{filesLoading:!0})}};var E=l.createContext(),g=E.Provider;const w=function(e){var t=l.useReducer(O,v),r=(0,a.Z)(t,2),o=r[0],i=r[1];return l.createElement(g,(0,n.Z)({},e,{value:{fileManagerState:o,fileManagerDispatch:i}}))}},7259:(e,t,r)=>{r.d(t,{E:()=>n});var n="/home/pi/zynthian-my-data/samples/"}}]);