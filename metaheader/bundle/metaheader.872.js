"use strict";(self.webpackChunkzynthbox_webconf_metaheader=self.webpackChunkzynthbox_webconf_metaheader||[]).push([[872],{9872:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(7294),a=r(2225),o=r(5509),i=r(3358),l=(0,n.lazy)((function(){return Promise.all([r.e(545),r.e(168)]).then(r.bind(r,320))})),c=(0,n.lazy)((function(){return r.e(329).then(r.bind(r,2329))}));const s=function(){return n.createElement(n.Fragment,null,n.createElement(o.Z,{className:"split",sizes:[40,60]},n.createElement(i.Z,null,n.createElement("div",null,n.createElement("div",{id:"file-manager"},n.createElement(n.Suspense,{fallback:n.createElement(a.Z,null)},n.createElement(l,null)))),n.createElement("div",{id:"sample-editor-container",className:"container"},n.createElement(n.Suspense,{fallback:n.createElement(a.Z,null)},n.createElement(c,null))))))}},3358:(e,t,r)=>{r.d(t,{_:()=>v,Z:()=>m});var n=r(7462),a=r(885),o=r(7294),i=r(4942),l=r(2982),c=r(6534);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r,n){var a=[];return e.forEach((function(o,i){if(o.folder===n){var l=f(f({},o),{},{toggled:t.findIndex((function(e){return e.path===o.path}))>-1});c.E+r===o.path&&(l.active=!0),e.filter((function(e){return e.level>o.level})).length>0&&(l.children=u(e.filter((function(e){return e.level>o.level})),t,r,o.path+"/")),a.push(l)}})),a}function d(e,t,r){return{name:"my-sounds",toggled:!0,path:c.E,active:null===r,children:u(e,t,r,c.E)}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={loading:!0,filesLoading:!1,selectedFolder:null,files:[],displayedFiles:[],folderChain:[{id:"xcv",name:"my-sounds",alias:c.E,isDir:!0}],browseHistory:[{id:"xcv",isDir:!0,label:c.E,name:c.E,path:c.E}],browseHistoryIndex:0,treeData:null,error:null};const E=function(e,t){switch(t.type){case"SET_SELECTED_FOLDER":var r=t.payload,n=r.name;r.alias&&(n=r.alias);var a,o,i=!1;if(e.folderChain.forEach((function(e,t){e.id===r.id&&(i=!0)})),i){a=n===c.E?null:e.selectedFolder.split(n)[0]+n;var s=e.folderChain.findIndex((function(e){return e.id===r.id}));o=(0,l.Z)(e.folderChain.slice(0,s+1))}else if(null!==e.selectedFolder){var f=r.path.split(c.E)[1];f&&-1===f.indexOf(e.selectedFolder)?(a=f,o=[].concat((0,l.Z)(O.folderChain),(0,l.Z)(function(e,t){for(var r=[],n=c.E,a=e.split("/"),o=0;o<a.length;o++){var i=t.filter((function(e){return e.path===n+a[o]}))[0];r.push(h(h({},i),{},{id:i.folder+i.name})),n+=a[o]+"/"}return r}(f,e.files)))):(a=e.selectedFolder+"/"+n,o=[].concat((0,l.Z)(e.folderChain),[r]))}else a=n,o=[].concat((0,l.Z)(e.folderChain),[r]);var u,p=(0,l.Z)(e.browseHistory);return u=!0===t.isViewingHistory?t.browseHistoryIndex:(p=e.browseHistoryIndex!==e.browseHistory.length-1?[].concat((0,l.Z)(e.browseHistory.slice(0,e.browseHistoryIndex+1)),[y(y({},r),{},{path:r.path?r.path:c.E})]):[].concat((0,l.Z)(e.browseHistory),[y(y({},r),{},{path:r.path?r.path:c.E})])).length-1,y(y({},e),{},{selectedFolder:a,folderChain:o,browseHistory:p,browseHistoryIndex:u});case"SET_FILES":var b,E=function(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)t[r].path===t[n].path&&t.splice(n--,1);return t}(t.payload.concat(e.files));b=t.payload.map((function(e){return y(y({},e),{},{id:e.path})}));var v=d(E,e.folderChain,e.selectedFolder);return y(y({},e),{},{files:E,displayedFiles:b,treeData:v,loading:!1,filesLoading:!1});case"RENAME_FILE":var g=t.payload,m=g.previousPath,w=(g.fullPath,e.files.filter((function(e){return-1===e.path.indexOf(m)}))),j=d(w.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return y(y({},e),{},{files:w,treeData:j});case"DELETE_FILES":var P=t.payload,D=e.files.filter((function(e){var t=!0;return P.forEach((function(r,n){e.path.indexOf(r)>-1&&(t=!1)})),t})),F=d(D.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return y(y({},e),{},{files:D,treeData:F});case"SET_ERROR":var Z=t.payload;return y(y({},e),{},{error:Z});case"ON_REFRESH_FILES":return y(y({},e),{},{filesLoading:!0})}};var v=o.createContext(),g=v.Provider;const m=function(e){var t=o.useReducer(E,O),r=(0,a.Z)(t,2),i=r[0],l=r[1];return o.createElement(g,(0,n.Z)({},e,{value:{fileManagerState:i,fileManagerDispatch:l}}))}},6534:(e,t,r)=>{r.d(t,{E:()=>n});var n="/home/pi/zynthian-my-data/sounds/my-sounds/"}}]);