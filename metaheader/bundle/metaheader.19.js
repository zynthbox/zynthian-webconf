(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(60),c=n(61),s=n(48),l=Object(c.c)({name:"counter",initialState:{count:0},reducers:{increment:function(e,t){e.count+=1},decrement:function(e,t){e.count-=1}}}),u=l.actions,i=(u.increment,u.decrement,l.reducer),d=n(33),p=n.n(d),m=n(34),E=n.n(m),f=Object(c.b)("songExport/fetchSongs",p()(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":3000/songexports"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),g=Object(c.b)("songExport/fetchSongExports",function(){var e=p()(E.a.mark((function e(t,n){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":3000/folder/").concat(t.split("/").join("+++")),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x=Object(c.b)("songExport/fetchExportParts",function(){var e=p()(E.a.mark((function e(t,n){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":3000/folder/").concat(t.split("/").join("+++")),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=Object(c.c)({name:"songExport",initialState:{songs:[],selectedSong:null,exports:[],selectedExport:null,parts:[],selectedPart:null,status:"idle",error:""},reducers:{dismissError:function(e,t){e.error="",e.status="idle"},setSelectedSong:function(e,t){e.selectedSong=t.payload},setSelectedExport:function(e,t){e.selectedExport=t.payload}},extraReducers:function(e){e.addCase(f.fulfilled,(function(e,t){e.songs=t.payload,e.status="idle"})),e.addCase(f.pending,(function(e){e.status="loading",e.exports=[],e.parts=[]})),e.addCase(f.rejected,(function(e,t){e.error=t.error.message,e.status="failed"})),e.addCase(g.fulfilled,(function(e,t){e.exports=t.payload,e.status="idle"})),e.addCase(g.pending,(function(e){e.status="loading",e.parts=[]})),e.addCase(g.rejected,(function(e,t){e.error=t.error.message,e.status="failed"})),e.addCase(x.fulfilled,(function(e,t){e.parts=t.payload,e.status="idle"})),e.addCase(x.pending,(function(e){e.status="loading"})),e.addCase(x.rejected,(function(e,t){e.error=t.error.message,e.status="failed"}))}}),b=h.actions,j=b.dismissError,C=b.setSelectedSong,v=b.setSelectedExport,S=h.reducer,w=Object(s.c)({count:i,songExport:S}),y=Object(c.a)({reducer:w}),O=n(379),k=n.n(O),N=function(e){var t=e.item,n=e.itemClassName,a=e.onItemClick;return r.a.createElement(k.a,{onStart:function(e,t){console.log("ON START"),console.log(e,t)},onDrag:function(e,t){console.log("HANDLE DRAG"),console.log(e,t)},onStop:function(e,t){console.log("HANDLE DRAG STOP"),console.log(e,t)}},r.a.createElement("a",{className:n,onClick:function(){return a()}},r.a.createElement("span",null,t.name),r.a.createElement("small",null,t.size," | ",t.modDate),r.a.createElement("br",null),r.a.createElement("small",null,t.path)))},T=function(e){var t,n=e.item,a=e.type,c=Object(o.c)(),s=Object(o.d)((function(e){return e.songExport})),l=s.selectedSong,u=s.selectedExport;function i(){"song"===a?c(C(n)):"songExport"===a&&c(v(n))}("song"===a&&null!==l&&l.path===n.path||"songExport"===a&&null!==u&&u.path===n.path)&&(t="active");var d=r.a.createElement("a",{className:t,onClick:function(){return i()}},r.a.createElement("span",null,n.folder),r.a.createElement("small",null,n.path));return"songExport"===a&&(d=r.a.createElement("a",{className:t,onClick:function(){return i()}},r.a.createElement("span",null,n.name))),"part"===a&&(d=r.a.createElement(N,{item:n,onItemClick:i,itemClassName:t})),r.a.createElement("li",{className:"song-export-list-item"},d)},D=n(59),F=["#B23730","#EE514B","#F77535","#F7D635","#FE68B1","#A438FF","#6491FF","#73F6EE","#65E679","#9A7136"],A=function(e){var t,n=Object(o.c)(),c=Object(o.d)((function(e){return e.songExport})),s=c.error,l=c.songs,u=c.selectedSong,i=c.exports,d=c.selectedExport,p=c.parts;c.selectedPart;console.log(i," EXPORTS "),Object(a.useEffect)((function(){n(f())}),[]),Object(a.useEffect)((function(){null!==u&&(console.log(u," SELECTED SONG"),n(g(u.path+"/")))}),[u]),Object(a.useEffect)((function(){null!==d&&(console.log(d," SELECTED EXPORT"),n(x(d.path+"/")))}),[d]),""!==s&&(t=r.a.createElement("div",{className:"song-export-error"},r.a.createElement("span",null,s," ",r.a.createElement("a",{onClick:function(){return n(j())}},"(X)"))));var m=l.map((function(e,t){return r.a.createElement(T,{key:Date.now()+t,item:e,type:"song"})})),E=i.map((function(e,t){return r.a.createElement(T,{key:Date.now()+t,item:e,type:"songExport"})})),h=p.map((function(e,t){return r.a.createElement(T,{key:Date.now()+t,item:e,type:"part"})}));return r.a.createElement("div",{id:"song-export"},t,r.a.createElement("div",{className:"song-export-column",id:"song-list",style:{backgroundColor:F[0]}},r.a.createElement("div",{className:"column-header"},r.a.createElement("h4",null,r.a.createElement(D.c,null),"Songs")),r.a.createElement("ul",null,m)),r.a.createElement("div",{className:"song-export-column",id:"export-folders-list",style:{backgroundColor:F[1]}},r.a.createElement("div",{className:"column-header"},r.a.createElement("h4",null,r.a.createElement(D.b,null),"Exports")),r.a.createElement("ul",null,E)),r.a.createElement("div",{className:"song-export-column",id:"song-parts-list",style:{backgroundColor:F[2]}},r.a.createElement("div",{className:"column-header"},r.a.createElement("h4",null,r.a.createElement(D.a,null),"Parts")),r.a.createElement("ul",null,h)))};t.default=function(){return r.a.createElement(o.a,{store:y},r.a.createElement(A,null))}}}]);