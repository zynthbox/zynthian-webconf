(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{24:function(e,t,n){"use strict";n.r(t);var r=n(34),a=n.n(r),o=n(2),c=n.n(o),i=n(35),l=n.n(i),u=n(0),s=n.n(u),d=n(94),f=n(379),p=n(4),m=(n(39),n(7)),h=n(53),E=n.n(h),v=function(e){var t=e.error,n=e.onDismiss;return console.log(E()(t.message)),s.a.createElement("div",{id:"error-modal"},s.a.createElement("h3",null,t.type),s.a.createElement("p",null,t.message),s.a.createElement("div",null,s.a.createElement("a",{onClick:n,className:"error-modal-dismiss"},"OK")))};Object(d.i)({iconComponent:f.a});var w=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(12)]).then(n.bind(null,423))})),b=Object(u.lazy)((function(){return n.e(13).then(n.bind(null,421))}));t.default=function(){var e=Object(u.useContext)(m.a),t=e.fileManagerState,n=e.fileManagerDispatch,r=Object(u.useState)(!1),o=c()(r,2),i=o[0],d=o[1];function f(){return h.apply(this,arguments)}function h(){return(h=a()(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="/home/pi/"+(null!==t.selectedFolder?t.selectedFolder+"/":""),fetch("http://".concat(window.location.hostname,":3000/folder/").concat(r.split("/").join("+++")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=a()(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(r=e.sent).errno||n({type:"SET_FILES",payload:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n({type:"SET_ERROR",payload:{message:"failed to fetch ".concat(r),type:"Folder Error"}})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){f()}),[t.selectedFolder]);var E,g=s.a.createElement(p.a,null);return!1===t.loading&&(g=s.a.createElement(s.a.Fragment,null,s.a.createElement(b,null),s.a.createElement(u.Suspense,{fallback:s.a.createElement(p.a,null)},s.a.createElement(w,{fsep:"/",refreshFileManager:f,showFileUploader:i,setShowFileUploader:d,getFiles:f})))),null!==t.error&&(E=s.a.createElement(v,{error:t.error,onDismiss:function(){return n({type:"SET_ERROR",payload:null})}})),s.a.createElement("div",{style:{height:window.innerHeight-170},className:"file-manager-wrapper"},E,g)}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));n(2),n(53);var r=n(0);function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],o=-1,c=Math.pow(10,n);do{e/=r,++o}while(Math.round(Math.abs(e)*c)/c>=r&&o<a.length-1);return e.toFixed(n)+" "+a[o]}function o(e,t){Object(r.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}function c(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}}}]);