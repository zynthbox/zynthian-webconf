(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{372:function(e,t,n){e.exports=n.p+"bundle/styles/images/loader.svg"},426:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),o=n(19),l=n(5),u=n.n(l),s=n(8),i=n.n(s),m=n(1),d=n.n(m),p=n(86),f=n(92),E=n(157),v=n(75),b=function(e){var t=e.item,n=Object(a.useState)(null),c=i()(n,2),o=c[0],l=c[1],s=Object(a.useState)(!1),m=i()(s,2),b=m[0],h=m[1],g=Object(a.useState)("00:00"),y=i()(g,2),O=y[0],j=y[1],x=Object(a.useState)(0),N=i()(x,2),B=(N[0],N[1]),k=Object(a.useState)(),w=i()(k,2),S=w[0],T=w[1],C=Object(a.useState)(0),M=i()(C,2),L=M[0],F=M[1],D=Object(a.useState)(0),P=i()(D,2),R=P[0],U=P[1];function _(){return(_=u()(d.a.mark((function e(){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,e.next=3,fetch("http://".concat(window.location.hostname,":3000/download"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:n})});case 3:if(a=e.sent,n!==t.path){e.next=10;break}return e.next=7,a.blob();case 7:r=e.sent,c=window.URL.createObjectURL(r),l(c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=e.target,n=Object(v.b)(t.currentTime),a=t.duration;isNaN(a)&&(a=0);var r=Object(v.b)(a),c=t.currentTime/t.duration*100;j(n),B(t.duration),F(a),T(r),U(c)}Object(a.useEffect)((function(){!function(){_.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){100===R&&h(!1)}),[R]);var J=Object(a.useRef)(null),X=r.a.createElement("span",{className:"rotating"},r.a.createElement(f.f,null));null!==o&&(X=!0===b?r.a.createElement(p.d,null):r.a.createElement(p.e,null));var A=r.a.createElement("span",{className:"infinity"},"âˆž");S&&(A=S);var G=t.name.split("-20")[0],Y=t.name.split(G+"-")[1],Z=Y.split("T")[0].split("-").join("/"),z=Y.split("T")[1].split(".")[0];return r.a.createElement("div",{className:"audio-player",id:"audio-player-".concat(t.name)},r.a.createElement("audio",{src:o,onTimeUpdate:function(e){return I(e)},onLoadedMetadata:function(e){return I(e)}}),r.a.createElement("span",{onClick:function(){var e=document.createElement("a");e.href=o;var n=t.path.split("/")[t.path.split("/").length-1];e.download=n,document.body.appendChild(e),e.click(),e.remove()},className:"count"}," ",r.a.createElement(E.a,null)," "),r.a.createElement("div",{className:"audio-player-top"},r.a.createElement("div",{className:"audio-player-controls"},r.a.createElement("span",{onClick:function(){return function(){if(console.log("on play click - "+t.path),null!==o){console.log("data is not null");var e=document.getElementById("audio-player-".concat(t.name)).getElementsByTagName("audio");!0===b?(e[0].pause(),h(!1)):(100===R&&(e[0].currentTime=0),e[0].play(),h(!0))}}()}},X)),r.a.createElement("div",{ref:J,draggable:!0,id:t.path,className:"draggable-div item-info"},r.a.createElement("h4",null,G),r.a.createElement("small",null,r.a.createElement("b",null,Object(v.a)(t.size)),r.a.createElement("b",null,Z," "),r.a.createElement("b",null,z)))),r.a.createElement("div",{className:"audio-player-bottom"},r.a.createElement("div",{className:"track-time"},O),r.a.createElement("div",{id:"".concat(t.path,"-slider"),className:"slider"},r.a.createElement("div",{className:"progress",style:{width:R+"%"}}),r.a.createElement("div",{onClick:function(e){return function(e){if(null!==o){var n=document.getElementById("".concat(t.path,"-slider")),a=n.offsetWidth,r=n.getBoundingClientRect(),c=e.clientX-r.left,l=L/100*(c/a*100);document.getElementById("audio-player-".concat(t.name)).getElementsByTagName("audio")[0].currentTime=l}}(e)},className:"rail"})),r.a.createElement("div",{className:"track-duration"},A)))},h=function(e){var t,n=e.item,a=e.type,l=Object(o.c)(),u=Object(o.d)((function(e){return e.songExport})),s=u.selectedSong,i=u.selectedExport,m=u.selectedPart;("song"===a&&null!==s&&s.path===n.path||"songExport"===a&&null!==i&&i.path===n.path||"part"===a&&null!==m&&m.path===n.path)&&(t="active");var d=r.a.createElement(b,{item:n});if("part"!==a){var p="songExport"===a?n.name:n.folder,f="songExport"===a?"":r.a.createElement("small",null,n.path);d=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,p),r.a.createElement("b",{className:"count"},n.count),f)}return r.a.createElement("li",{className:"song-export-list-item"},r.a.createElement("a",{className:t,onClick:function(){"song"===a?l(Object(c.g)(n)):"songExport"===a&&l(Object(c.f)(n))}},d))},g=n(372),y=n.n(g),O=["#B23730","#EE514B","#F77535","#F7D635","#FE68B1","#A438FF","#6491FF","#73F6EE","#65E679","#9A7136"];t.default=function(e){var t,n=Object(o.c)(),l=Object(o.d)((function(e){return e.songExport})),u=l.error,s=l.sketches,i=l.selectedSong,m=l.exports,d=l.selectedExport,f=l.parts,E=(l.selectedPart,l.status);Object(a.useEffect)((function(){n(Object(c.d)())}),[]),Object(a.useEffect)((function(){null!==i&&n(Object(c.e)(i.path+"/"))}),[i]),Object(a.useEffect)((function(){null!==d&&(console.log(d," SELECTED EXPORT"),n(Object(c.c)(d.path+"/")))}),[d]),""!==u&&(t=r.a.createElement("div",{className:"song-export-error"},r.a.createElement("span",null,u," ",r.a.createElement("a",{onClick:function(){return n(Object(c.b)())}},"(X)"))));var v,b=s.map((function(e,t){return r.a.createElement(h,{key:Date.now()+t,item:e,type:"song"})})),g=m.map((function(e,t){return r.a.createElement(h,{key:Date.now()+t,item:e,type:"songExport"})}));return v="loading"===E.parts||"failed"===E.parts?r.a.createElement("div",{className:"status-display"},"loading"===E.parts?r.a.createElement("img",{src:y.a}):E.parts):f.map((function(e,t){return r.a.createElement(h,{key:Date.now()+t,item:e,type:"part"})})),r.a.createElement("div",{id:"song-export"},t,r.a.createElement("div",{className:"song-export-column",id:"song-list",style:{backgroundColor:O[0]}},r.a.createElement("div",{className:"column-header"},r.a.createElement("h4",null,r.a.createElement(p.c,null),"Sketches")),r.a.createElement("ul",null,b)),r.a.createElement("div",{className:"song-export-column",id:"export-folders-list",style:{backgroundColor:O[1]}},r.a.createElement("div",{className:"column-header"},r.a.createElement("h4",null,r.a.createElement(p.b,null),"Exports")),r.a.createElement("ul",null,g)),r.a.createElement("div",{className:"song-export-column",id:"song-parts-list",style:{backgroundColor:O[2]}},r.a.createElement("div",{className:"column-header"},r.a.createElement("h4",null,r.a.createElement(p.a,null),"Parts")),r.a.createElement("ul",null,v)))}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(8),r=n.n(a),c=(n(81),n(0));function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=t?1e3:1024;if(Math.abs(e)<a)return e+" B";var r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],c=-1,o=Math.pow(10,n);do{e/=a,++c}while(Math.round(Math.abs(e)*o)/o>=a&&c<r.length-1);return e.toFixed(n)+" "+r[c]}function l(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}function u(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e}),[e]),t.current}var s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.shouldPreventDefault,o=void 0===a||a,l=n.delay,u=void 0===l?300:l,s=Object(c.useState)(!1),m=r()(s,2),d=m[0],p=m[1],f=Object(c.useRef)(),E=Object(c.useRef)(),v=Object(c.useCallback)((function(t){o&&t.target&&(t.target.addEventListener("touchend",i,{passive:!1}),E.current=t.target),f.current=setTimeout((function(){e(t),p(!0)}),u)}),[e,u,o]),b=Object(c.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f.current&&clearTimeout(f.current),n&&!d&&t(),p(!1),o&&E.current&&E.current.removeEventListener("touchend",i)}),[o,t,d]);return{onMouseDown:function(e){return v(e)},onTouchStart:function(e){return v(e)},onMouseUp:function(e){return b(e)},onMouseLeave:function(e){return b(e,!1)},onTouchEnd:function(e){return b(e)}}},i=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()};function m(e){var t=Math.floor(e/60),n=e-60*t;return t<10&&(t="0"+t),(n=Math.floor(n))<10&&(n="0"+n),t+":"+n}},81:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}]);