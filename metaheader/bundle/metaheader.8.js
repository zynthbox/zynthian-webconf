(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{24:function(e,n,t){"use strict";t.r(n);var r=t(34),a=t.n(r),o=t(2),c=t.n(o),i=t(35),l=t.n(i),u=t(0),s=t.n(u),d=t(93),f=t(377),p=t(4),m=(t(39),t(7)),h=t(234),E=t.n(h),v=function(e){var n=e.error,t=e.onDismiss;return console.log(E()(n.message)),s.a.createElement("div",{id:"error-modal"},s.a.createElement("h3",null,n.type),s.a.createElement("p",null,n.message),s.a.createElement("div",null,s.a.createElement("a",{onClick:t,className:"error-modal-dismiss"},"OK")))};Object(d.i)({iconComponent:f.a});var w=Object(u.lazy)((function(){return Promise.all([t.e(0),t.e(6),t.e(12)]).then(t.bind(null,421))})),g=Object(u.lazy)((function(){return t.e(13).then(t.bind(null,419))}));n.default=function(){var e=Object(u.useContext)(m.a),n=e.fileManagerState,t=e.fileManagerDispatch,r=Object(u.useState)(!1),o=c()(r,2),i=o[0],d=o[1];function f(){return h.apply(this,arguments)}function h(){return(h=a()(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="/home/pi/"+(null!==n.selectedFolder?n.selectedFolder+"/":""),fetch("http://".concat(window.location.hostname,":3000/folder/").concat(r.split("/").join("+++")),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=a()(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:r=e.sent,console.log(r," RES ON GET FILES "),r.errno||t({type:"SET_FILES",payload:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){t({type:"SET_ERROR",payload:{message:"failed to fetch ".concat(r),type:"Folder Error"}})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){f()}),[n.selectedFolder]);var E,b=s.a.createElement(p.a,null);return!1===n.loading&&(b=s.a.createElement(s.a.Fragment,null,s.a.createElement(g,null),s.a.createElement(u.Suspense,{fallback:s.a.createElement(p.a,null)},s.a.createElement(w,{fsep:"/",refreshFileManager:f,showFileUploader:i,setShowFileUploader:d,getFiles:f})))),null!==n.error&&(E=s.a.createElement(v,{error:n.error,onDismiss:function(){return t({type:"SET_ERROR",payload:null})}})),s.a.createElement("div",{style:{height:window.innerHeight-170},className:"file-manager-wrapper"},E,b)}},39:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return c}));var r=t(0);function a(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n?1e3:1024;if(Math.abs(e)<r)return e+" B";var a=n?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],o=-1,c=Math.pow(10,t);do{e/=r,++o}while(Math.round(Math.abs(e)*c)/c>=r&&o<a.length-1);return e.toFixed(t)+" "+a[o]}function o(e,n){Object(r.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])}function c(e){var n=Object(r.useRef)();return Object(r.useEffect)((function(){n.current=e}),[e]),n.current}}}]);