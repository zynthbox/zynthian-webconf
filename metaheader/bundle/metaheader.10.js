(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{15:function(e,t,n){"use strict";n.r(t);var r=n(51),i=n.n(r),a=n(26),c=n.n(a),o=n(36),l=n.n(o),u=n(1),s=n.n(u),f=n(27),d=n.n(f),h=n(0),p=n.n(h),v=n(91),b=n(374),O=n(2),g=n(35);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(v.i)({iconComponent:b.a});var w=Object(h.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(14)]).then(n.bind(null,375))})),y=Object(h.lazy)((function(){return n.e(8).then(n.bind(null,371))}));t.default=function(){var e,t="/zynthian-my-data",n={id:"xcv",name:t,isDir:!0},r=Object(h.useState)([]),i=s()(r,2),a=i[0],o=i[1],u=Object(h.useState)([]),f=s()(u,2),v=f[0],b=f[1],m=Object(h.useState)([n]),E=s()(m,2),B=E[0],S=E[1],x=Object(h.useState)(t),P=s()(x,2),F=P[0],k=P[1],C=Object(g.c)(F),D=Object(h.useState)([]),M=s()(D,2),z=M[0],T=M[1],H=Object(h.useState)(-1),L=s()(H,2),G=L[0],I=L[1],J=Object(h.useState)(!1),U=s()(J,2),Y=U[0],Z=U[1],K=Object(h.useState)(null),N=s()(K,2),R=N[0],q=N[1],A=Object(h.useState)(!1),Q=s()(A,2),V=Q[0],W=Q[1];function X(){return(X=c()(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":3000/mydata"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,o(r),k(t),$(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var t=[];e.forEach((function(e,n){if(e.path.indexOf(F+"/")>-1){var r=e.path.split(F+"/")[1];if(r&&-1===r.indexOf("/")){var i=j(j({},e),{},{id:n+1,isDir:!(r.indexOf(".")>-1),name:r});t.push(i)}}})),b(t)}function _(e,t){var n=[{}];return e.forEach((function(e){n.length=e.level,n[e.level-1].children=n[e.level-1].children||[],n[e.level-1].children.push(e),n[e.level]=e,n[e.level]===t&&(n[e.level].toggled=!0,n[e.level].active=!1)})),n[0].children}function ee(e){var t,n,r,i;if(t=e.id,n=!1,B.forEach((function(e,r){e.id===t&&(n=!0)})),n){r=F.split(e.name)[0]+e.name;var a=B.findIndex((function(t){return t.id===e.id}));i=l()(B.slice(0,a+1))}else r=F+"/"+e.name,i=[].concat(l()(B),[e]);S(i),k(r),te(Object.assign({toggled:!0,active:!0},e))}function te(e,r,i){var a=Object.assign({},R);!function e(t,n){t.children.forEach((function(t,r){t.id===n.id?(t.active=n.active,t.toggled=n.toggled):t.active=!1,t.children&&t.children.length>0&&e(t,n)}))}(a,e),q(a),r&&function(e,r){var i=t+e.path.split(t)[1],a=i.split(t)[1].split("/"),c=[n];r.forEach((function(e,t){c.push({id:e,path:i,name:a[t+1],isDir:!0})})),S(c),k(i)}(e,r)}Object(h.useEffect)((function(){!function(){X.apply(this,arguments)}()}),[]),Object(h.useEffect)((function(){if($(a),null!==F&&F!==C&&!1===Y){var e=[],t={path:F,folderChain:B};e=G!==z.length-1?[].concat(l()(z.slice(0,G)),[t]):[].concat(l()(z),[t]),T(e)}Z(!1)}),[F]),Object(h.useEffect)((function(){var e=z.length-1;I(e)}),[z]),Object(h.useEffect)((function(){G!==z.length&&z.length>0?(k(z[G].path),S(z[G].folderChain)):Z(!1)}),[G]),Object(h.useEffect)((function(){a.length>0&&function(){var e=[];a.forEach((function(n,r){var i=n.path.split(t+"/")[1];i&&(-1!==i.indexOf(".")&&"lv2"!==i.split(".")[i.split(".").length-1]||e.push({id:r+1,name:i.indexOf("/")>-1?i.split("/")[i.split("/").length-1]:i,level:1+(n.path.indexOf("/")>-1?i.split("/").length-1:0),path:n.path}))}));var n={name:"zynthian-my-data",toggled:!0,path:"/home/pi/zynthian-my-data",children:_(e)};q(n)}()}),[a]),null!==R&&(e=p.a.createElement(y,{data:R,onTreeItemClick:te,openFiles:ee}));var ne=p.a.createElement(O.a,null);return null!==a&&null!==v&&(ne=p.a.createElement(h.Suspense,{fallback:p.a.createElement(O.a,null)},p.a.createElement(w,{displayedFiles:v,selectedFolder:F,browserHistory:z,browserHistoryIndex:G,navigateHistory:function(e){var t;Z(!0),"back"===e&&G-1>-1?t=G-1:"forward"===e&&G<=z.length-1?t=G+1:"forward"!==e&&"back"!==e&&(t=e),"number"==typeof t&&I(t)},fsep:"/",folderChain:B,setFolderChain:S,setSelectedFolder:k,openFiles:ee,refreshFileManager:function(e){o(e),$(e)},showFileUploader:V,setShowFileUploader:W}))),p.a.createElement("div",{style:{height:window.innerHeight-170},className:"file-manager-wrapper"},e,ne)}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c}));var r=n(0);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var i=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=-1,c=Math.pow(10,n);do{e/=r,++a}while(Math.round(Math.abs(e)*c)/c>=r&&a<i.length-1);return e.toFixed(n)+" "+i[a]}function a(e,t){Object(r.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}function c(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}}}]);