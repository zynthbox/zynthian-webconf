"use strict";(self.webpackChunkzynthbox_webconf_metaheader=self.webpackChunkzynthbox_webconf_metaheader||[]).push([[927],{7262:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(7294),a=r(2225),o=r(5509),l=r(7842),i=r(7462),c=r(885),s=r(3356),u=r(1257);const f=function(){var e=(0,n.useState)(null),t=(0,c.Z)(e,2),r=t[0],a=t[1],o=(0,n.useState)(null),l=(0,c.Z)(o,2),f=l[0],p=l[1],d=(0,n.useState)(null),h=(0,c.Z)(d,2),y=h[0],m=h[1],b=(0,n.useState)(null),v=(0,c.Z)(b,2),O=v[0],E=v[1],g=(0,n.useState)(!1),w=(0,c.Z)(g,2),j=(w[0],w[1],(0,n.useState)("")),P=(0,c.Z)(j,2),S=P[0],D=(P[1],(0,n.useRef)(null),(0,n.useCallback)((function(e){a(e)}),[])),x=(0,s.uI)({onDrop:D}),Z=x.getRootProps,_=x.getInputProps,C=x.isDragActive,F=null;return y&&(F=n.createElement("ul",{className:"sample-list"},y.map((function(e,t){return n.createElement("li",{key:t},n.createElement("a",{onClick:function(){!function(e){var t="http://".concat(window.location.hostname,":3000/play-sample/").concat(O+"+++"+e);u.Z.get(t).then((function(e){}))}(e)}},e," "))})))),n.createElement("div",{className:"module-container"},n.createElement("div",(0,i.Z)({className:"dropzone-container"},Z()),n.createElement("input",(0,i.Z)({},_(),{name:"file"})),C?n.createElement("p",null,"Drop a file[it, xm, s3m, mod, umx, mptm] here ..."):n.createElement("p",null,"Drag 'n' drop a file[it, xm, s3m, mod, umx, mptm] here, or click to select file")),n.createElement("div",null,r&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:function(){var e="http://".concat(window.location.hostname,":3000/tracker-info/").concat(r[0].name),t=new FormData;t.append("file",r[0]),u.Z.post(e,t,{}).then((function(e){p(e.data.message),m(e.data.samples),E(e.data.path)}))}}," Extract Samples "))),S&&n.createElement("div",{className:"metadata",dangerouslySetInnerHTML:{__html:S}}),n.createElement("ul",{className:"file-info"},f),n.createElement("div",{className:"sample-container"},F))};var p=(0,n.lazy)((function(){return Promise.all([r.e(545),r.e(773)]).then(r.bind(r,8773))}));const d=function(){return n.createElement(n.Fragment,null,n.createElement(o.Z,{className:"split"},n.createElement("div",null,n.createElement("div",{id:"file-manager"},n.createElement(l.Z,null,n.createElement(n.Suspense,{fallback:n.createElement(a.Z,null)},n.createElement(p,null))))),n.createElement("div",null,n.createElement(f,null))))}},7842:(e,t,r)=>{r.d(t,{_:()=>E,Z:()=>w});var n=r(7462),a=r(885),o=r(7294),l=r(4942),i=r(2982),c=r(7259);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r,n){var a=[];return e.forEach((function(o,l){if(o.folder===n){var i=u(u({},o),{},{toggled:t.findIndex((function(e){return e.path===o.path}))>-1});c.E+r===o.path&&(i.active=!0),e.filter((function(e){return e.level>o.level})).length>0&&(i.children=f(e.filter((function(e){return e.level>o.level})),t,r,o.path+"/")),a.push(i)}})),a}function p(e,t,r){return{name:"zynthian",toggled:!0,path:"/home/pi",active:null===r,children:f(e,t,r,c.E)}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b="/home/pi/zynthian-my-data/samples/",v={loading:!0,filesLoading:!1,selectedFolder:null,files:[],displayedFiles:[],folderChain:[{id:"xcv",name:"zynthian",alias:"/home/pi/zynthian-my-data/samples/",isDir:!0}],browseHistory:[{id:"xcv",isDir:!0,label:b,name:b,path:b}],browseHistoryIndex:0,treeData:null,error:null};const O=function(e,t){switch(t.type){case"SET_SELECTED_FOLDER":var r=t.payload,n=r.name;r.alias&&(n=r.alias);var a,o,l=!1;if(e.folderChain.forEach((function(e,t){e.id===r.id&&(l=!0)})),l){a=n===b?null:e.selectedFolder.split(n)[0]+n;var s=e.folderChain.findIndex((function(e){return e.id===r.id}));o=(0,i.Z)(e.folderChain.slice(0,s+1))}else if(null!==e.selectedFolder){var u=r.path.split(b)[1];u&&-1===u.indexOf(e.selectedFolder)?(a=u,o=[].concat((0,i.Z)(v.folderChain),(0,i.Z)(function(e,t){for(var r=[],n=c.E,a=e.split("/"),o=0;o<a.length;o++){var l=t.filter((function(e){return e.path===n+a[o]}))[0];r.push(h(h({},l),{},{id:l.folder+l.name})),n+=a[o]+"/"}return r}(u,e.files)))):(a=e.selectedFolder+"/"+n,o=[].concat((0,i.Z)(e.folderChain),[r]))}else a=n,o=[].concat((0,i.Z)(e.folderChain),[r]);var f,d=(0,i.Z)(e.browseHistory);return f=!0===t.isViewingHistory?t.browseHistoryIndex:(d=e.browseHistoryIndex!==e.browseHistory.length-1?[].concat((0,i.Z)(e.browseHistory.slice(0,e.browseHistoryIndex+1)),[m(m({},r),{},{path:r.path?r.path:b})]):[].concat((0,i.Z)(e.browseHistory),[m(m({},r),{},{path:r.path?r.path:b})])).length-1,m(m({},e),{},{selectedFolder:a,folderChain:o,browseHistory:d,browseHistoryIndex:f});case"SET_FILES":var y,O=function(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)t[r].path===t[n].path&&t.splice(n--,1);return t}(t.payload.concat(e.files));y=t.payload.map((function(e){return m(m({},e),{},{id:e.path})}));var E=p(O.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return m(m({},e),{},{files:O,displayedFiles:y,treeData:E,loading:!1,filesLoading:!1});case"RENAME_FILE":var g=t.payload,w=g.previousPath,j=(g.fullPath,e.files.filter((function(e){return-1===e.path.indexOf(w)}))),P=p(j.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return m(m({},e),{},{files:j,treeData:P});case"DELETE_FILES":var S=t.payload,D=e.files.filter((function(e){var t=!0;return S.forEach((function(r,n){e.path.indexOf(r)>-1&&(t=!1)})),t})),x=p(D.filter((function(e){return!0===e.isDir})),e.folderChain,e.selectedFolder);return m(m({},e),{},{files:D,treeData:x});case"SET_ERROR":var Z=t.payload;return m(m({},e),{},{error:Z});case"ON_REFRESH_FILES":return m(m({},e),{},{filesLoading:!0})}};var E=o.createContext(),g=E.Provider;const w=function(e){var t=o.useReducer(O,v),r=(0,a.Z)(t,2),l=r[0],i=r[1];return o.createElement(g,(0,n.Z)({},e,{value:{fileManagerState:l,fileManagerDispatch:i}}))}},7259:(e,t,r)=>{r.d(t,{E:()=>n});var n="/home/pi/zynthian-my-data/samples/"},7582:(e,t,r)=>{r.d(t,{CR:()=>s,Jh:()=>c,ZT:()=>a,_T:()=>l,ev:()=>u,mG:()=>i,pi:()=>o});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function l(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function i(e,t,r,n){return new(r||(r=Promise))((function(a,o){function l(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,i)}c((n=n.apply(e,t||[])).next())}))}function c(e,t){var r,n,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)l.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return l}function u(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);